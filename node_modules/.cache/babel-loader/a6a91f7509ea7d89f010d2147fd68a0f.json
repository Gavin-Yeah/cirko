{"ast":null,"code":"import\"antd-mobile/lib/nav-bar/style\";import _NavBar from\"antd-mobile/lib/nav-bar\";import\"antd-mobile/lib/flex/style\";import _Flex from\"antd-mobile/lib/flex\";import\"antd-mobile/lib/list-view/style\";import _ListView from\"antd-mobile/lib/list-view\";import _defineProperty from\"/Users/jiadaye/workspace/cirko/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/jiadaye/workspace/cirko/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jiadaye/workspace/cirko/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/jiadaye/workspace/cirko/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/jiadaye/workspace/cirko/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/jiadaye/workspace/cirko/node_modules/@babel/runtime/helpers/esm/inherits\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React from\"react\";import add from\"../icons/add.png\";import{get_post}from\"../Firebase/getPosts\";import withAuthentication from\"../Session/withAuthentication\";var data=[{title:'Meet hotel',des:'不是所有的兼职汪都需要风吹日晒',time:'02/29/2010',id:1},{title:'McDonald\\'s invites you',des:'不是所有的兼职汪都需要风吹日晒',time:'02/29/2010',id:2},{title:'Eat the week',des:'不是所有的兼职汪都需要风吹日晒',time:'02/29/2010',id:3}];var NUM_SECTIONS=5;var NUM_ROWS_PER_SECTION=5;var pageIndex=0;var NUM_ROWS=20;var dataBlobs={};var sectionIDs=[];var rowIDs=[];function genData(){var pIndex=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var dataBlob={};for(var i=0;i<NUM_ROWS;i++){var ii=pIndex*NUM_ROWS+i;dataBlob[\"\".concat(ii)]=\"row - \".concat(ii);}return dataBlob;}var Comments=/*#__PURE__*/function(_React$Component){_inherits(Comments,_React$Component);function Comments(props){var _this;_classCallCheck(this,Comments);_this=_possibleConstructorReturn(this,_getPrototypeOf(Comments).call(this,props));_this.onEndReached=function(event){// load new data\n// hasMore: from backend data, indicates whether it is the last page, here is false\nif(_this.state.isLoading&&!_this.state.hasMore){return;}console.log('reach end',event);_this.setState({isLoading:true});setTimeout(function(){_this.rData=_objectSpread({},_this.rData,{},genData(++pageIndex));_this.setState({dataSource:_this.state.dataSource.cloneWithRows(_this.rData),isLoading:false});},1000);};_this.onClickAdd=function(){//console.log(this.props.match.params.id)\n_this.props.history.push(\"/home/addcomment/\".concat(_this.props.match.params.id));};var getSectionData=function getSectionData(dataBlob,sectionID){return dataBlob[sectionID];};var getRowData=function getRowData(dataBlob,sectionID,rowID){return dataBlob[rowID];};var dataSource=new _ListView.DataSource({getRowData:getRowData,getSectionHeaderData:getSectionData,rowHasChanged:function rowHasChanged(row1,row2){return row1!==row2;},sectionHeaderHasChanged:function sectionHeaderHasChanged(s1,s2){return s1!==s2;}});_this.state={dataSource:dataSource,isLoading:true,height:document.documentElement.clientHeight,data:[]};return _this;}_createClass(Comments,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;get_post(this.props.firebase,this.props.match.params.id).then(function(data){_this2.setState({data:data.comments});//  console.log(data.comments)\n});}},{key:\"render\",value:function render(){var _this3=this;var separator=function separator(sectionID,rowID){return React.createElement(\"div\",{key:\"\".concat(sectionID,\"-\").concat(rowID),style:{backgroundColor:'#F5F5F9',height:8,borderTop:'1px solid #ECECED',borderBottom:'1px solid #ECECED'}});};var index=data.length-1;var row=function row(rowData,sectionID,rowID){if(index<0){index=data.length-1;}var obj=data[index--];return React.createElement(\"div\",{key:rowID,style:{padding:'0 15px'}},rowID==0?React.createElement(\"div\",{style:{height:'70px',background:'white'}}):React.createElement(\"div\",null)/*show the 1st post completely*/,React.createElement(\"div\",null,React.createElement(_Flex,{style:{padding:'15px 0'}},React.createElement(\"img\",{style:{height:'64px',marginRight:'15px'},src:obj.img,alt:\"\"}),React.createElement(\"div\",{style:{lineHeight:1}},React.createElement(\"div\",null,React.createElement(\"span\",{style:{fontSize:'20px',color:'#4e77a1',fontWeight:'bold'}},obj.title)),React.createElement(\"div\",{style:{color:'#5396a5',fontSize:'18px',marginBottom:'8px',marginTop:'5px'}},obj.time))),React.createElement(_Flex,null,React.createElement(\"div\",{style:{marginBottom:'8px',fontWeight:'bold'}},obj.des))));};return React.createElement(\"div\",null,React.createElement(_NavBar,{style:{backgroundColor:'#5396a5',borderBottomLeftRadius:'100%',borderBottomRightRadius:'100%',height:\"7vh\",position:'fixed',width:\"100%\",top:0,zIndex:1},mode:\"light\",leftContent:React.createElement(\"div\",{onClick:function onClick(){return _this3.props.history.goBack();},style:{width:'40px',marginTop:\"-20px\",marginLeft:'5px',color:'White',fontSize:'40px',fontWeight:'bold'}},\" <\"),rightContent:React.createElement(\"div\",{onClick:this.onClickAdd,style:{width:'40px',marginTop:\"-10px\"}},React.createElement(\"img\",{src:add,style:{width:\"40px\"},alt:\"add\"}))},React.createElement(\"h1\",{style:{color:\"white\"}},\"comments\")),React.createElement(\"div\",null,this.state.data.map(function(obj,index){return React.createElement(\"div\",{key:index,style:{padding:'0 15px',marginBottom:'5px',background:'white'}},index==0?React.createElement(\"div\",{style:{height:'70px',background:'white'}}):React.createElement(\"div\",null)/*show the 1st post completely*/,React.createElement(\"div\",null,React.createElement(_Flex,{style:{padding:'15px 0'}},React.createElement(\"img\",{style:{height:'64px',marginRight:'15px'},src:obj.comment_user_avatar,alt:\"\"}),React.createElement(\"div\",{style:{lineHeight:1}},React.createElement(\"div\",null,React.createElement(\"span\",{style:{fontSize:'20px',color:'#4e77a1',fontWeight:'bold'}},obj.comment_user_name)),React.createElement(\"div\",{style:{color:'#5396a5',fontSize:'18px',marginBottom:'8px',marginTop:'5px'}},obj.time))),React.createElement(_Flex,null,React.createElement(\"div\",{style:{marginBottom:'8px',fontWeight:'bold'}},obj.content))));})));}}]);return Comments;}(React.Component);export default withAuthentication(Comments);","map":{"version":3,"sources":["/Users/jiadaye/workspace/cirko/src/components/Comments/index.js"],"names":["React","add","get_post","withAuthentication","data","title","des","time","id","NUM_SECTIONS","NUM_ROWS_PER_SECTION","pageIndex","NUM_ROWS","dataBlobs","sectionIDs","rowIDs","genData","pIndex","dataBlob","i","ii","Comments","props","onEndReached","event","state","isLoading","hasMore","console","log","setState","setTimeout","rData","dataSource","cloneWithRows","onClickAdd","history","push","match","params","getSectionData","sectionID","getRowData","rowID","DataSource","getSectionHeaderData","rowHasChanged","row1","row2","sectionHeaderHasChanged","s1","s2","height","document","documentElement","clientHeight","firebase","then","comments","separator","backgroundColor","borderTop","borderBottom","index","length","row","rowData","obj","padding","background","marginRight","img","lineHeight","fontSize","color","fontWeight","marginBottom","marginTop","borderBottomLeftRadius","borderBottomRightRadius","position","width","top","zIndex","goBack","marginLeft","map","comment_user_avatar","comment_user_name","content","Component"],"mappings":"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","sourcesContent":["import { Button, Flex, ImagePicker, ListView, NavBar } from 'antd-mobile';\nimport React from \"react\";\n\nimport add from \"../icons/add.png\";\nimport { get_post } from \"../Firebase/getPosts\";\nimport withAuthentication from \"../Session/withAuthentication\";\n\nconst data = [\n    {\n\n        title: 'Meet hotel',\n        des: '不是所有的兼职汪都需要风吹日晒',\n        time: '02/29/2010',\n        id: 1,\n    },\n    {\n\n        title: 'McDonald\\'s invites you',\n        des: '不是所有的兼职汪都需要风吹日晒',\n        time: '02/29/2010',\n        id: 2,\n    },\n    {\n\n        title: 'Eat the week',\n        des: '不是所有的兼职汪都需要风吹日晒',\n        time: '02/29/2010',\n        id: 3,\n    },\n];\nconst NUM_SECTIONS = 5;\nconst NUM_ROWS_PER_SECTION = 5;\nlet pageIndex = 0;\nconst NUM_ROWS = 20;\nconst dataBlobs = {};\nlet sectionIDs = [];\nlet rowIDs = [];\n\nfunction genData(pIndex = 0) {\n    const dataBlob = {};\n    for (let i = 0; i < NUM_ROWS; i++) {\n        const ii = (pIndex * NUM_ROWS) + i;\n        dataBlob[`${ii}`] = `row - ${ii}`;\n    }\n    return dataBlob;\n}\n\n class Comments extends React.Component {\n    constructor(props) {\n        super(props);\n\n        const getSectionData = (dataBlob, sectionID) => dataBlob[sectionID];\n        const getRowData = (dataBlob, sectionID, rowID) => dataBlob[rowID];\n\n        const dataSource = new ListView.DataSource({\n            getRowData,\n            getSectionHeaderData: getSectionData,\n            rowHasChanged: (row1, row2) => row1 !== row2,\n            sectionHeaderHasChanged: (s1, s2) => s1 !== s2,\n        });\n\n        this.state = {\n            dataSource,\n            isLoading: true,\n            height: document.documentElement.clientHeight,\n            data:[]\n        };\n    }\n\n    componentDidMount() {\n\n        get_post(this.props.firebase, this.props.match.params.id).then((data)=>{\n            this.setState({\n                data:data.comments\n            })\n          //  console.log(data.comments)\n        });\n    }\n\n    onEndReached = (event) => {\n        // load new data\n        // hasMore: from backend data, indicates whether it is the last page, here is false\n        if (this.state.isLoading && !this.state.hasMore) {\n            return;\n        }\n        console.log('reach end', event);\n        this.setState({isLoading: true});\n        setTimeout(() => {\n            this.rData = {...this.rData, ...genData(++pageIndex)};\n            this.setState({\n                dataSource: this.state.dataSource.cloneWithRows(this.rData),\n                isLoading: false,\n            });\n        }, 1000);\n    }\n\n\n    onClickAdd = () => {\n        //console.log(this.props.match.params.id)\n        this.props.history.push(`/home/addcomment/${this.props.match.params.id}`);\n    }\n\n    render() {\n        const separator = (sectionID, rowID) => (\n            <div\n                key={`${sectionID}-${rowID}`}\n                style={{\n                    backgroundColor: '#F5F5F9',\n                    height: 8,\n                    borderTop: '1px solid #ECECED',\n                    borderBottom: '1px solid #ECECED',\n                }}\n            />\n        );\n        let index = data.length - 1;\n        const row = (rowData, sectionID, rowID) => {\n            if (index < 0) {\n                index = data.length - 1;\n            }\n            const obj = data[index--];\n            return (\n                <div key={rowID} style={{padding: '0 15px'}}>\n                    {rowID==0?  <div style={{height:'70px' ,background:'white'}}></div>:<div/> /*show the 1st post completely*/}\n\n\n                    <div>\n                        <Flex style={{padding: '15px 0'}}>\n                            <img style={{height: '64px', marginRight: '15px'}} src={obj.img} alt=\"\"/>\n                            <div style={{lineHeight: 1}}>\n\n                                <div><span\n                                    style={{fontSize: '20px', color: '#4e77a1', fontWeight: 'bold'}}>{obj.title}</span>\n                                </div>\n                                <div style={{\n                                    color: '#5396a5',\n                                    fontSize: '18px',\n                                    marginBottom: '8px',\n                                    marginTop: '5px'\n                                }}>{obj.time}</div>\n                            </div>\n                        </Flex>\n                        <Flex>\n                            <div style={{marginBottom: '8px', fontWeight: 'bold'}}>{obj.des}</div>\n                        </Flex>\n                    </div>\n                    {/*<Flex>*/}\n\n                    {/*    <Flex.Item><Button>Like</Button></Flex.Item>*/}\n                    {/*</Flex>*/}\n                </div>\n            );\n        };\n        return (\n            <div>\n                <NavBar\n                    style={{backgroundColor: '#5396a5', borderBottomLeftRadius:'100%', borderBottomRightRadius:'100%',  height:\"7vh\",position:'fixed',width:\"100%\", top:0,zIndex:1}}\n                    mode=\"light\"\n                    leftContent={\n                        <div onClick={()=>  this.props.history.goBack()}  style={{width: '40px',marginTop:\"-20px\", marginLeft:'5px', color:'White', fontSize:'40px',fontWeight: 'bold'}}> &lt;\n                    </div>\n                        }\n\n\n                    rightContent={\n                        <div onClick={this.onClickAdd}  style={{width: '40px',marginTop:\"-10px\",}}><img src={add} style={{width:\"40px\"}} alt=\"add\"/>\n                        </div>\n\n                    }\n                ><h1 style={{color:\"white\",}}>comments</h1></NavBar>\n                <div>\n                    {\n                        this.state.data.map((obj,index)=>{\n                            return(\n                                <div key={index} style={{padding: '0 15px', marginBottom:'5px', background:'white'}}>\n                                    {index==0?  <div style={{height:'70px' ,background:'white'}}></div>:<div/> /*show the 1st post completely*/}\n\n\n                                    <div>\n                                        <Flex style={{padding: '15px 0'}}>\n                                            <img style={{height: '64px', marginRight: '15px'}} src={obj.comment_user_avatar} alt=\"\"/>\n                                            <div style={{lineHeight: 1}}>\n\n                                                <div><span\n                                                    style={{fontSize: '20px', color: '#4e77a1', fontWeight: 'bold'}}>{obj.comment_user_name}</span>\n                                                </div>\n                                                <div style={{\n                                                    color: '#5396a5',\n                                                    fontSize: '18px',\n                                                    marginBottom: '8px',\n                                                    marginTop: '5px'\n                                                }}>{obj.time}</div>\n                                            </div>\n                                        </Flex>\n                                        <Flex>\n                                            <div style={{marginBottom: '8px', fontWeight: 'bold'}}>{obj.content}</div>\n                                        </Flex>\n                                    </div>\n                                    {/*<Flex>*/}\n\n                                    {/*    <Flex.Item><Button>Like</Button></Flex.Item>*/}\n                                    {/*</Flex>*/}\n                                </div>\n                            )\n                        })\n                    }\n\n                </div>\n            </div>\n\n        );\n    }\n}\nexport default withAuthentication(Comments);\n"]},"metadata":{},"sourceType":"module"}