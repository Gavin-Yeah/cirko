{"ast":null,"code":"import \"antd-mobile/lib/nav-bar/style\";\nimport _NavBar from \"antd-mobile/lib/nav-bar\";\nimport \"antd-mobile/lib/list-view/style\";\nimport _ListView from \"antd-mobile/lib/list-view\";\nvar _jsxFileName = \"/Users/jiadaye/workspace/cirko/src/components/PostPage/index.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nconst data = [{\n  img: 'https://zos.alipayobjects.com/rmsportal/dKbkpPXKfvZzWCM.png',\n  title: 'a',\n  des: '不是所有的兼职汪都需要风吹日晒'\n}, {\n  img: 'https://zos.alipayobjects.com/rmsportal/XmwCzSeJiqpkuMB.png',\n  title: 'b',\n  des: '不是所有的兼职汪都需要风吹日晒'\n}, {\n  img: 'https://zos.alipayobjects.com/rmsportal/hfVtzEhPzTUewPm.png',\n  title: 'c',\n  des: '不是所有的兼职汪都需要风吹日晒'\n}, {\n  img: 'https://zos.alipayobjects.com/rmsportal/dKbkpPXKfvZzWCM.png',\n  title: 'd',\n  des: '不是所有的兼职汪都需要风吹日晒'\n}, {\n  img: 'https://zos.alipayobjects.com/rmsportal/XmwCzSeJiqpkuMB.png',\n  title: 'e',\n  des: '不是所有的兼职汪都需要风吹日晒'\n}, {\n  img: 'https://zos.alipayobjects.com/rmsportal/hfVtzEhPzTUewPm.png',\n  title: 'f',\n  des: '不是所有的兼职汪都需要风吹日晒'\n}, {\n  img: 'https://zos.alipayobjects.com/rmsportal/dKbkpPXKfvZzWCM.png',\n  title: 'g',\n  des: '不是所有的兼职汪都需要风吹日晒'\n}, {\n  img: 'https://zos.alipayobjects.com/rmsportal/XmwCzSeJiqpkuMB.png',\n  title: 'h',\n  des: '不是所有的兼职汪都需要风吹日晒'\n}, {\n  img: 'https://zos.alipayobjects.com/rmsportal/hfVtzEhPzTUewPm.png',\n  title: 'i',\n  des: '不是所有的兼职汪都需要风吹日晒'\n}, {\n  img: 'https://zos.alipayobjects.com/rmsportal/dKbkpPXKfvZzWCM.png',\n  title: 'j',\n  des: '不是所有的兼职汪都需要风吹日晒'\n}, {\n  img: 'https://zos.alipayobjects.com/rmsportal/XmwCzSeJiqpkuMB.png',\n  title: 'k',\n  des: '不是所有的兼职汪都需要风吹日晒'\n}, {\n  img: 'https://zos.alipayobjects.com/rmsportal/hfVtzEhPzTUewPm.png',\n  title: 'l',\n  des: '不是所有的兼职汪都需要风吹日晒'\n}];\nconst NUM_SECTIONS = 5;\nconst NUM_ROWS_PER_SECTION = 5;\nlet pageIndex = 0;\nconst dataBlobs = {};\nlet sectionIDs = [];\nlet rowIDs = [];\n\nfunction genData(pIndex = 0) {\n  for (let i = 0; i < NUM_SECTIONS; i++) {\n    const ii = pIndex * NUM_SECTIONS + i;\n    const sectionName = \"Section \".concat(ii);\n    sectionIDs.push(sectionName);\n    dataBlobs[sectionName] = sectionName;\n    rowIDs[ii] = [];\n\n    for (let jj = 0; jj < NUM_ROWS_PER_SECTION; jj++) {\n      const rowName = \"S\".concat(ii, \", R\").concat(jj);\n      rowIDs[ii].push(rowName);\n      dataBlobs[rowName] = rowName;\n    }\n  }\n\n  sectionIDs = [...sectionIDs];\n  rowIDs = [...rowIDs];\n}\n\nclass PostPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onEndReached = event => {\n      if (this.state.isLoading && !this.state.hasMore) {\n        return;\n      }\n\n      console.log('reach end', event);\n      this.setState({\n        isLoading: true\n      });\n      this.timeId1 = setTimeout(() => {\n        genData(++pageIndex);\n        this.setState({\n          dataSource: this.state.dataSource.cloneWithRowsAndSections(dataBlobs, sectionIDs, rowIDs),\n          isLoading: false\n        });\n      }, 1000);\n    };\n\n    const getSectionData = (dataBlob, sectionID) => dataBlob[sectionID];\n\n    const getRowData = (dataBlob, sectionID, rowID) => dataBlob[rowID];\n\n    const dataSource = new _ListView.DataSource({\n      getRowData,\n      getSectionHeaderData: getSectionData,\n      rowHasChanged: (row1, row2) => row1 !== row2,\n      sectionHeaderHasChanged: (s1, s2) => s1 !== s2\n    });\n    this.state = {\n      dataSource,\n      isLoading: true,\n      height: document.documentElement.clientHeight * 3 / 4\n    };\n  }\n\n  componentDidMount() {\n    const hei = document.documentElement.clientHeight - ReactDOM.findDOMNode(this.lv).parentNode.offsetTop;\n    this.timeId2 = setTimeout(() => {\n      genData();\n      this.setState({\n        dataSource: this.state.dataSource.cloneWithRowsAndSections(dataBlobs, sectionIDs, rowIDs),\n        isLoading: false,\n        height: hei\n      });\n    }, 600);\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.timeId1);\n    clearTimeout(this.timeId2);\n  }\n\n  render() {\n    const separator = (sectionID, rowID) => React.createElement(\"div\", {\n      key: \"\".concat(sectionID, \"-\").concat(rowID),\n      style: {\n        backgroundColor: '#F5F5F9',\n        height: 8,\n        borderTop: '1px solid #ECECED',\n        borderBottom: '1px solid #ECECED'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    });\n\n    let index = data.length - 1;\n\n    const row = (rowData, sectionID, rowID) => {\n      if (index < 0) {\n        index = data.length - 1;\n      }\n\n      const obj = data[index--];\n      return React.createElement(\"div\", {\n        key: rowID,\n        style: {\n          padding: '0 15px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          lineHeight: '50px',\n          color: '#888',\n          fontSize: 18,\n          borderBottom: '1px solid #F6F6F6'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, obj.title), React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          padding: '15px 0'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        style: {\n          height: '64px',\n          marginRight: '15px'\n        },\n        src: obj.img,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          lineHeight: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          marginBottom: '8px',\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, obj.des), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        style: {\n          fontSize: '30px',\n          color: '#FF6E27'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, \"35\"), \"\\xA5 \", rowID))));\n    }; //homepage post的内容\n\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(_NavBar, {\n      mode: \"light\",\n      rightContent: React.createElement(\"img\", {\n        style: {\n          width: '30px'\n        },\n        src: \"https://image.flaticon.com/icons/png/128/148/148781.png\",\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, \"CIRKO\")), React.createElement(_ListView, {\n      ref: el => this.lv = el,\n      dataSource: this.state.dataSource,\n      renderFooter: () => React.createElement(\"div\", {\n        style: {\n          padding: 30,\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, this.state.isLoading ? 'Loading...' : 'Loaded'),\n      renderRow: row,\n      renderSeparator: separator,\n      style: {\n        height: this.state.height,\n        overflow: 'auto'\n      },\n      pageSize: 4,\n      onScroll: () => {\n        console.log('scroll');\n      },\n      scrollRenderAheadDistance: 500,\n      onEndReached: this.onEndReached,\n      onEndReachedThreshold: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default PostPage;","map":{"version":3,"sources":["/Users/jiadaye/workspace/cirko/src/components/PostPage/index.js"],"names":["React","ReactDOM","data","img","title","des","NUM_SECTIONS","NUM_ROWS_PER_SECTION","pageIndex","dataBlobs","sectionIDs","rowIDs","genData","pIndex","i","ii","sectionName","push","jj","rowName","PostPage","Component","constructor","props","onEndReached","event","state","isLoading","hasMore","console","log","setState","timeId1","setTimeout","dataSource","cloneWithRowsAndSections","getSectionData","dataBlob","sectionID","getRowData","rowID","DataSource","getSectionHeaderData","rowHasChanged","row1","row2","sectionHeaderHasChanged","s1","s2","height","document","documentElement","clientHeight","componentDidMount","hei","findDOMNode","lv","parentNode","offsetTop","timeId2","componentWillUnmount","clearTimeout","render","separator","backgroundColor","borderTop","borderBottom","index","length","row","rowData","obj","padding","lineHeight","color","fontSize","display","marginRight","marginBottom","fontWeight","width","el","textAlign","overflow"],"mappings":"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","sourcesContent":["import {TabBar, ListView, NavBar} from 'antd-mobile';\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nconst data = [\n    {\n        img: 'https://zos.alipayobjects.com/rmsportal/dKbkpPXKfvZzWCM.png',\n        title: 'a',\n        des: '不是所有的兼职汪都需要风吹日晒',\n    },\n    {\n        img: 'https://zos.alipayobjects.com/rmsportal/XmwCzSeJiqpkuMB.png',\n        title: 'b',\n        des: '不是所有的兼职汪都需要风吹日晒',\n    },\n    {\n        img: 'https://zos.alipayobjects.com/rmsportal/hfVtzEhPzTUewPm.png',\n        title: 'c',\n        des: '不是所有的兼职汪都需要风吹日晒',\n    },\n    {\n        img: 'https://zos.alipayobjects.com/rmsportal/dKbkpPXKfvZzWCM.png',\n        title: 'd',\n        des: '不是所有的兼职汪都需要风吹日晒',\n    },\n    {\n        img: 'https://zos.alipayobjects.com/rmsportal/XmwCzSeJiqpkuMB.png',\n        title: 'e',\n        des: '不是所有的兼职汪都需要风吹日晒',\n    },\n    {\n        img: 'https://zos.alipayobjects.com/rmsportal/hfVtzEhPzTUewPm.png',\n        title: 'f',\n        des: '不是所有的兼职汪都需要风吹日晒',\n    },\n    {\n        img: 'https://zos.alipayobjects.com/rmsportal/dKbkpPXKfvZzWCM.png',\n        title: 'g',\n        des: '不是所有的兼职汪都需要风吹日晒',\n    },\n    {\n        img: 'https://zos.alipayobjects.com/rmsportal/XmwCzSeJiqpkuMB.png',\n        title: 'h',\n        des: '不是所有的兼职汪都需要风吹日晒',\n    },\n    {\n        img: 'https://zos.alipayobjects.com/rmsportal/hfVtzEhPzTUewPm.png',\n        title: 'i',\n        des: '不是所有的兼职汪都需要风吹日晒',\n    },\n    {\n        img: 'https://zos.alipayobjects.com/rmsportal/dKbkpPXKfvZzWCM.png',\n        title: 'j',\n        des: '不是所有的兼职汪都需要风吹日晒',\n    },\n    {\n        img: 'https://zos.alipayobjects.com/rmsportal/XmwCzSeJiqpkuMB.png',\n        title: 'k',\n        des: '不是所有的兼职汪都需要风吹日晒',\n    },\n    {\n        img: 'https://zos.alipayobjects.com/rmsportal/hfVtzEhPzTUewPm.png',\n        title: 'l',\n        des: '不是所有的兼职汪都需要风吹日晒',\n    },\n];\nconst NUM_SECTIONS = 5;\nconst NUM_ROWS_PER_SECTION = 5;\nlet pageIndex = 0;\n\nconst dataBlobs = {};\nlet sectionIDs = [];\nlet rowIDs = [];\nfunction genData(pIndex = 0) {\n    for (let i = 0; i < NUM_SECTIONS; i++) {\n        const ii = (pIndex * NUM_SECTIONS) + i;\n        const sectionName = `Section ${ii}`;\n        sectionIDs.push(sectionName);\n        dataBlobs[sectionName] = sectionName;\n        rowIDs[ii] = [];\n\n        for (let jj = 0; jj < NUM_ROWS_PER_SECTION; jj++) {\n            const rowName = `S${ii}, R${jj}`;\n            rowIDs[ii].push(rowName);\n            dataBlobs[rowName] = rowName;\n        }\n    }\n    sectionIDs = [...sectionIDs];\n    rowIDs = [...rowIDs];\n}\n\nclass PostPage extends React.Component {\n\n    constructor(props) {\n        super(props);\n        const getSectionData = (dataBlob, sectionID) => dataBlob[sectionID];\n        const getRowData = (dataBlob, sectionID, rowID) => dataBlob[rowID];\n\n        const dataSource = new ListView.DataSource({\n            getRowData,\n            getSectionHeaderData: getSectionData,\n            rowHasChanged: (row1, row2) => row1 !== row2,\n            sectionHeaderHasChanged: (s1, s2) => s1 !== s2,\n        });\n\n        this.state = {\n            dataSource,\n            isLoading: true,\n            height: (document.documentElement.clientHeight * 3) / 4,\n        };\n    }\n\n    componentDidMount() {\n        const hei = document.documentElement.clientHeight - ReactDOM.findDOMNode(this.lv).parentNode.offsetTop;\n        this.timeId2=setTimeout(() => {\n            genData();\n            this.setState({\n                dataSource: this.state.dataSource.cloneWithRowsAndSections(dataBlobs, sectionIDs, rowIDs),\n                isLoading: false,\n                height: hei,\n            });\n        }, 600);\n    }\n\n    onEndReached = (event) => {\n        if (this.state.isLoading && !this.state.hasMore) {\n            return;\n        }\n        console.log('reach end', event);\n        this.setState({ isLoading: true });\n         this.timeId1=setTimeout(() => {\n            genData(++pageIndex);\n            this.setState({\n                dataSource: this.state.dataSource.cloneWithRowsAndSections(dataBlobs, sectionIDs, rowIDs),\n                isLoading: false,\n            });\n        }, 1000);\n    }\n    componentWillUnmount() {\n        clearTimeout(this.timeId1);\n        clearTimeout(this.timeId2)\n    }\n\n    render() {\n        const separator = (sectionID, rowID) => (\n            <div\n                key={`${sectionID}-${rowID}`}\n                style={{\n                    backgroundColor: '#F5F5F9',\n                    height: 8,\n                    borderTop: '1px solid #ECECED',\n                    borderBottom: '1px solid #ECECED',\n                }}\n            />\n        );\n        let index = data.length - 1;\n        const row = (rowData, sectionID, rowID) => {\n            if (index < 0) {\n                index = data.length - 1;\n            }\n            const obj = data[index--];\n            return (\n                <div key={rowID} style={{ padding: '0 15px' }}>\n                    <div\n                        style={{\n                            lineHeight: '50px',\n                            color: '#888',\n                            fontSize: 18,\n                            borderBottom: '1px solid #F6F6F6',\n                        }}\n                    >{obj.title}</div>\n                    <div style={{ display: 'flex', padding: '15px 0' }}>\n                        <img style={{ height: '64px', marginRight: '15px' }} src={obj.img} alt=\"\" />\n                        <div style={{ lineHeight: 1 }}>\n                            <div style={{ marginBottom: '8px', fontWeight: 'bold' }}>{obj.des}</div>\n                            <div><span style={{ fontSize: '30px', color: '#FF6E27' }}>35</span>¥ {rowID}</div>\n                        </div>\n                    </div>\n                </div>\n            );\n        };    //homepage post的内容\n\n        return (\n<div>\n    <NavBar\n        mode=\"light\"\n\n\n        rightContent={\n            <img style={{width:'30px'}} src=\"https://image.flaticon.com/icons/png/128/148/148781.png\" alt=\"\"/>\n\n\n        }\n    ><h1>CIRKO</h1></NavBar>\n            <ListView\n                ref={el => this.lv = el}\n                dataSource={this.state.dataSource}\n\n                renderFooter={() => (<div style={{ padding: 30, textAlign: 'center' }}>\n                    {this.state.isLoading ? 'Loading...' : 'Loaded'}\n                </div>)}\n            \n                renderRow={row}\n                renderSeparator={separator}\n                style={{\n                    height: this.state.height,\n                    overflow: 'auto',\n                }}\n                pageSize={4}\n                onScroll={() => { console.log('scroll'); }}\n                scrollRenderAheadDistance={500}\n                onEndReached={this.onEndReached}\n                onEndReachedThreshold={10}\n            />\n</div>\n        );\n    }\n}\n\nexport default PostPage;"]},"metadata":{},"sourceType":"module"}