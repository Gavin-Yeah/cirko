{"ast":null,"code":"import \"antd-mobile/lib/button/style\";\nimport _Button from \"antd-mobile/lib/button\";\nimport \"antd-mobile/lib/image-picker/style\";\nimport _ImagePicker from \"antd-mobile/lib/image-picker\";\nimport \"antd-mobile/lib/flex/style\";\nimport _Flex from \"antd-mobile/lib/flex\";\nvar _jsxFileName = \"/Users/jiadaye/workspace/cirko/src/components/Home/Item/index.js\";\nimport React, { Component } from 'react';\nimport { likes } from \"../../Firebase/upload\";\nimport withAuthentication from \"../../Session/withAuthentication\";\n\nclass Item extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.onClickComment = id => {\n      this.props.history.push(\"/home/comments/\".concat(id));\n    };\n\n    this.clickImg = file => {\n      this.setState({\n        isImgClick: true,\n        currentImg: file.url\n      });\n    };\n\n    this.picClose = () => {\n      console.log(\"picCLose\");\n      this.setState({\n        isImgClick: false\n      });\n    };\n\n    this.likes = postId => {\n      likes(this.props.firebase, this.props.firebase.auth.currentUser.uid, postId).then(result => {\n        console.log(result, postId);\n        this.props.renderItems();\n      }).catch(err => {\n        console.log(err.toString());\n      });\n    };\n  }\n\n  render() {\n    const _this$props = this.props,\n          obj = _this$props.obj,\n          index = _this$props.index;\n    return React.createElement(\"div\", {\n      style: {\n        padding: '0 15px',\n        marginBottom: '10px',\n        background: 'white'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, index == 0 ? React.createElement(\"div\", {\n      style: {\n        height: '11vh'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    })\n    /*show the 1st post completely*/\n    , React.createElement(\"div\", {\n      style: {\n        lineHeight: '40px',\n        color: '#888',\n        fontSize: 15,\n        borderBottom: '1px solid #F6F6F6',\n        background: '#ededed'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, obj.place ? React.createElement(\"img\", {\n      style: {\n        width: \"2vw\"\n      },\n      src: \"https://image.flaticon.com/icons/png/128/149/149060.png\",\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }) : \"\", obj.place), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(_Flex, {\n      style: {\n        padding: '15px 0'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      style: {\n        height: '64px',\n        marginRight: '15px'\n      },\n      src: obj.userAvatar,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        lineHeight: 1\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        fontSize: '20px',\n        color: '#4e77a1',\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, obj.username)), React.createElement(\"div\", {\n      style: {\n        color: '#5396a5',\n        fontSize: '18px',\n        marginBottom: '8px',\n        marginTop: '5px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, obj.time))), React.createElement(_Flex, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        marginBottom: '8px',\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, obj.content)), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(_ImagePicker, {\n      files: obj.pictures_url.map(item => {\n        return {\n          url: item\n        };\n      }),\n      onChange: this.onChange,\n      onImageClick: (index, fs) => {\n        this.clickImg(fs[index]);\n      },\n      selectable: false,\n      disableDelete: true,\n      length: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }))), React.createElement(_Flex, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(_Flex.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(_Button, {\n      size: \"small\",\n      activeStyle: {\n        background: '#4e77a1'\n      },\n      style: {\n        background: '#5396a5',\n        color: \"#ecfcee\",\n        fontWeight: 'bold'\n      },\n      onClick: () => this.onClickComment(obj.postId),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Comment(\", obj.comments.length, \")\")), React.createElement(_Flex.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(_Button, {\n      size: \"small\",\n      activeStyle: {\n        background: '#4e77a1'\n      },\n      style: {\n        background: '#5396a5',\n        color: \"#ecfcee\",\n        fontWeight: 'bold'\n      },\n      onClick: () => this.likes(obj.postId),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Likes \", obj.likes !== 0 ? '(' + obj.likes.length + ')' : \"\"))));\n  }\n\n}\n\nexport default withAuthentication(Item);","map":{"version":3,"sources":["/Users/jiadaye/workspace/cirko/src/components/Home/Item/index.js"],"names":["React","Component","likes","withAuthentication","Item","onClickComment","id","props","history","push","clickImg","file","setState","isImgClick","currentImg","url","picClose","console","log","postId","firebase","auth","currentUser","uid","then","result","renderItems","catch","err","toString","render","obj","index","padding","marginBottom","background","height","lineHeight","color","fontSize","borderBottom","place","width","marginRight","userAvatar","fontWeight","username","marginTop","time","content","pictures_url","map","item","onChange","fs","comments","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Flex, Button, ImagePicker } from \"antd-mobile\";\nimport { likes } from \"../../Firebase/upload\";\nimport withAuthentication from \"../../Session/withAuthentication\";\nclass Item extends Component {\n    onClickComment = (id) => {\n\n        this.props.history.push(`/home/comments/${id}`)\n    }\n\n    clickImg = (file) => {\n\n        this.setState({\n            isImgClick: true,\n            currentImg: file.url\n        })\n    }\n    picClose = () => {\n        console.log(\"picCLose\")\n        this.setState({\n            isImgClick: false\n        })\n    }\n\n    likes = (postId) => {\n\n        likes(this.props.firebase, this.props.firebase.auth.currentUser.uid, postId).then((result) => {\n            console.log(result, postId);\n            this.props.renderItems()\n\n        }).catch(err => {\n            console.log(err.toString())\n        });\n\n    }\n    render() {\n       const {obj, index } = this.props;\n        return (\n            <div  style={{padding: '0 15px', marginBottom: '10px', background: 'white'}}>\n                {index == 0 ? <div style={{height: '11vh'}}></div> :\n                    <div/> /*show the 1st post completely*/}\n                <div\n                    style={{\n                        lineHeight: '40px',\n                        color: '#888',\n                        fontSize: 15,\n                        borderBottom: '1px solid #F6F6F6',\n                        background: '#ededed',\n\n\n                    }}\n                >{obj.place ? <img style={{width: \"2vw\"}}\n                                   src=\"https://image.flaticon.com/icons/png/128/149/149060.png\"\n                                   alt=\"\"/> : \"\"}{obj.place}</div>\n\n                <div>\n                    <Flex style={{padding: '15px 0'}}>\n                        <img style={{height: '64px', marginRight: '15px'}} src={obj.userAvatar}\n                             alt=\"\"/>\n                        <div style={{lineHeight: 1}}>\n\n                            <div><span style={{\n                                fontSize: '20px',\n                                color: '#4e77a1',\n                                fontWeight: 'bold'\n                            }}>{obj.username}</span></div>\n                            <div style={{\n                                color: '#5396a5',\n                                fontSize: '18px',\n                                marginBottom: '8px',\n                                marginTop: '5px'\n                            }}>{obj.time}</div>\n                        </div>\n                    </Flex>\n                    <Flex>\n                        <div style={{marginBottom: '8px', fontWeight: 'bold'}}>{obj.content}</div>\n                    </Flex>\n                    <div>\n                        <ImagePicker\n                            files={obj.pictures_url.map((item) => {\n                                return {url: item}\n                            })}\n\n                            onChange={this.onChange}\n                            onImageClick={(index, fs) => {\n                                this.clickImg(fs[index]);\n                            }}\n                            selectable={false}\n                            disableDelete={true}\n                            length={3}\n\n\n                        />\n\n                    </div>\n                </div>\n\n                <Flex>\n                    <Flex.Item><Button size='small' activeStyle={{background: '#4e77a1'}} style={{\n                        background: '#5396a5',\n                        color: \"#ecfcee\",\n                        fontWeight: 'bold'\n                    }}\n                                       onClick={() => this.onClickComment(obj.postId)}>Comment({obj.comments.length})</Button></Flex.Item>\n                    <Flex.Item><Button size='small' activeStyle={{background: '#4e77a1'}} style={{\n                        background: '#5396a5',\n                        color: \"#ecfcee\",\n                        fontWeight: 'bold'\n                    }}\n                                       onClick={() => this.likes(obj.postId)}>Likes {obj.likes !== 0 ? '(' + obj.likes.length + ')' : \"\"}</Button></Flex.Item>\n                </Flex>\n            </div>\n        );\n    }\n}\n\nexport default withAuthentication(Item);"]},"metadata":{},"sourceType":"module"}