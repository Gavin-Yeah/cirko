{"ast":null,"code":"import\"antd-mobile/lib/list/style\";import _List from\"antd-mobile/lib/list\";import\"antd-mobile/lib/textarea-item/style\";import _TextareaItem from\"antd-mobile/lib/textarea-item\";import\"antd-mobile/lib/nav-bar/style\";import _NavBar from\"antd-mobile/lib/nav-bar\";import\"antd-mobile/lib/icon/style\";import _Icon from\"antd-mobile/lib/icon\";import _classCallCheck from\"/Users/jiadaye/workspace/cirko/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jiadaye/workspace/cirko/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/jiadaye/workspace/cirko/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/jiadaye/workspace/cirko/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/jiadaye/workspace/cirko/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{comments}from\"../../Firebase/upload\";import withAuthentication from\"../../Session/withAuthentication\";var AddComment=/*#__PURE__*/function(_Component){_inherits(AddComment,_Component);function AddComment(){var _getPrototypeOf2;var _this;_classCallCheck(this,AddComment);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(AddComment)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={content:'',postId:_this.props.match.params.id};_this.contentRef=React.createRef();_this.add=function(){var addPost=_this.props.addPost;var content=_this.contentRef.current.value;var postObj={id:4,userName:'Jack',time:'10:31 10/10/2019',content:content,pics:[],likes:0};addPost(postObj);_this.setState({content:'',pics:[],multiple:true});};_this.onChange=function(event){_this.setState({content:event});};_this.onConfirm=function(){comments(_this.props.firebase,_this.props.firebase.auth.currentUser.uid,_this.props.firebase.auth.currentUser.displayName,_this.props.firebase.auth.currentUser.photoURL,_this.state.content,_this.state.postId,function(){_this.props.history.goBack();});};return _this;}_createClass(AddComment,[{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",null,React.createElement(_NavBar,{mode:\"light\",icon:React.createElement(_Icon,{type:\"cross-circle\"}),onLeftClick:function onLeftClick(){_this2.props.history.goBack();},rightContent:React.createElement(\"div\",{onClick:this.onConfirm},React.createElement(_Icon,{key:\"0\",type:\"check-circle-o\"}))},\"Text\"),React.createElement(_List,null,React.createElement(_TextareaItem,{placeholder:\"Comment\",autoHeight:true,labelNumber:5,onChange:this.onChange,rows:5,count:300})));}}]);return AddComment;}(Component);export default withAuthentication(AddComment);","map":{"version":3,"sources":["/Users/jiadaye/workspace/cirko/src/components/Comments/AddComment/index.js"],"names":["React","Component","comments","withAuthentication","AddComment","state","content","postId","props","match","params","id","contentRef","createRef","add","addPost","current","value","postObj","userName","time","pics","likes","setState","multiple","onChange","event","onConfirm","firebase","auth","currentUser","uid","displayName","photoURL","history","goBack"],"mappings":"i5BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CAGA,OAASC,QAAT,KAAyB,uBAAzB,CACA,MAAOC,CAAAA,kBAAP,KAA+B,kCAA/B,C,GAEMC,CAAAA,U,+YACFC,K,CAAQ,CACJC,OAAO,CAAC,EADJ,CAEJC,MAAM,CAAC,MAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,EAF3B,C,OAKRC,U,CAAcZ,KAAK,CAACa,SAAN,E,OACdC,G,CAAM,UAAI,IACDC,CAAAA,OADC,CACU,MAAKP,KADf,CACDO,OADC,CAEN,GAAIT,CAAAA,OAAO,CAAG,MAAKM,UAAL,CAAgBI,OAAhB,CAAwBC,KAAtC,CACA,GAAMC,CAAAA,OAAO,CAAG,CAACP,EAAE,CAAC,CAAJ,CAAMQ,QAAQ,CAAC,MAAf,CAAsBC,IAAI,CAAC,kBAA3B,CAA8Cd,OAAO,CAAEA,OAAvD,CAAgEe,IAAI,CAAC,EAArE,CAAyEC,KAAK,CAAC,CAA/E,CAAhB,CACAP,OAAO,CAACG,OAAD,CAAP,CACA,MAAKK,QAAL,CAAc,CACVjB,OAAO,CAAC,EADE,CAEVe,IAAI,CAAC,EAFK,CAGVG,QAAQ,CAAC,IAHC,CAAd,EAMH,C,OACDC,Q,CAAW,SAAAC,KAAK,CAAI,CAChB,MAAKH,QAAL,CAAc,CAAEjB,OAAO,CAAEoB,KAAX,CAAd,EACH,C,OACDC,S,CAAY,UAAI,CAEZzB,QAAQ,CAAC,MAAKM,KAAL,CAAWoB,QAAZ,CAAsB,MAAKpB,KAAL,CAAWoB,QAAX,CAAoBC,IAApB,CAAyBC,WAAzB,CAAqCC,GAA3D,CAA+D,MAAKvB,KAAL,CAAWoB,QAAX,CAAoBC,IAApB,CAAyBC,WAAzB,CAAqCE,WAApG,CAAgH,MAAKxB,KAAL,CAAWoB,QAAX,CAAoBC,IAApB,CAAyBC,WAAzB,CAAqCG,QAArJ,CAA8J,MAAK5B,KAAL,CAAWC,OAAzK,CAAiL,MAAKD,KAAL,CAAWE,MAA5L,CAAmM,UAAI,CAC3M,MAAKC,KAAL,CAAW0B,OAAX,CAAmBC,MAAnB,GACH,CAFO,CAAR,CAKH,C,6EAGQ,iBAGL,MACI,gCACI,6BACI,IAAI,CAAC,OADT,CAEI,IAAI,CAAE,2BAAM,IAAI,CAAC,cAAX,EAFV,CAGI,WAAW,CAAE,sBAAM,CAAC,MAAI,CAAC3B,KAAL,CAAW0B,OAAX,CAAmBC,MAAnB,GAA4B,CAHpD,CAII,YAAY,CACR,2BAAK,OAAO,CAAE,KAAKR,SAAnB,EAA8B,2BAAM,GAAG,CAAC,GAAV,CAAc,IAAI,CAAC,gBAAnB,EAA9B,CALR,SADJ,CAUI,+BACI,mCAEI,WAAW,CAAE,SAFjB,CAGI,UAAU,KAHd,CAII,WAAW,CAAE,CAJjB,CAKI,QAAQ,CAAE,KAAKF,QALnB,CAMI,IAAI,CAAE,CANV,CAOI,KAAK,CAAE,GAPX,EADJ,CAVJ,CADJ,CA2BH,C,wBA9DoBxB,S,EAgEzB,cAAeE,CAAAA,kBAAkB,CAACC,UAAD,CAAjC","sourcesContent":["import React, { Component } from 'react';\n\nimport { Icon, List, NavBar, TextareaItem } from 'antd-mobile'\nimport { comments } from \"../../Firebase/upload\";\nimport withAuthentication from \"../../Session/withAuthentication\";\n\nclass AddComment extends Component {\n    state = {\n        content:'',\n        postId:this.props.match.params.id\n\n    }\n    contentRef =  React.createRef();\n    add = ()=>{\n        let {addPost} = this.props\n        let content = this.contentRef.current.value;\n        const postObj = {id:4,userName:'Jack',time:'10:31 10/10/2019',content: content, pics:[], likes:0}\n        addPost(postObj)\n        this.setState({\n            content:'',\n            pics:[],\n            multiple:true\n        })\n\n    }\n    onChange = event => {\n        this.setState({ content: event });\n    };\n    onConfirm = ()=>{\n\n        comments(this.props.firebase, this.props.firebase.auth.currentUser.uid,this.props.firebase.auth.currentUser.displayName,this.props.firebase.auth.currentUser.photoURL,this.state.content,this.state.postId,()=>{\n            this.props.history.goBack();\n        });\n\n\n    }\n\n\n    render() {\n\n\n        return (\n            <div>\n                <NavBar\n                    mode=\"light\"\n                    icon={<Icon type=\"cross-circle\" />}\n                    onLeftClick={() => {this.props.history.goBack()}}\n                    rightContent={\n                        <div onClick={this.onConfirm}><Icon key=\"0\" type=\"check-circle-o\"  />\n                        </div>\n                    }\n                >Text</NavBar>\n                <List>\n                    <TextareaItem\n\n                        placeholder={\"Comment\"}\n                        autoHeight\n                        labelNumber={5}\n                        onChange={this.onChange}\n                        rows={5}\n                        count={300}\n                    />\n                </List>\n\n\n            </div>\n\n        );\n    }\n}\nexport default withAuthentication(AddComment);"]},"metadata":{},"sourceType":"module"}