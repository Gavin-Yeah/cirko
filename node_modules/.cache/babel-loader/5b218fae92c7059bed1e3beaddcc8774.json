{"ast":null,"code":"function upload_user_profile(firebase, userID, Image\n/*...*/\n) {\n  //get the storage reference\n  var storage = firebase.storage();\n  var storageRef = storage.ref('images/' + userID + '.jpg'); //store image to storage\n\n  storageRef.put(Image).then(function (snapshot) {\n    console.log('Uploaded a blob or file!'); //get the url to the storage\n\n    storageRef.getDownloadURL().then(function (t) {\n      //get the database reference\n      var db = firebase.firestore();\n      db.collection(\"users\").add.png({\n        user_id: userID,\n        image_url: t\n      }).then(function (docRef) {\n        console.log(\"Document written with ID: \", docRef.id);\n      }).catch(function (error) {\n        console.error(\"Error adding document: \", error);\n      });\n    });\n  });\n}","map":{"version":3,"sources":["/Users/jiadaye/workspace/cirko/src/components/Firebase/upload.js"],"names":["upload_user_profile","firebase","userID","Image","storage","storageRef","ref","put","then","snapshot","console","log","getDownloadURL","t","db","firestore","collection","add","png","user_id","image_url","docRef","id","catch","error"],"mappings":"AAAA,SAASA,mBAAT,CAA6BC,QAA7B,EAAsCC,MAAtC,EAA8CC;AAAM;AAApD,EAA6D;AAEzD;AACA,MAAIC,OAAO,GAAGH,QAAQ,CAACG,OAAT,EAAd;AACA,MAAIC,UAAU,GAAGD,OAAO,CAACE,GAAR,CAAY,YAAUJ,MAAV,GAAiB,MAA7B,CAAjB,CAJyD,CAKzD;;AACAG,EAAAA,UAAU,CAACE,GAAX,CAAeJ,KAAf,EAAsBK,IAAtB,CAA2B,UAASC,QAAT,EAAmB;AAC1CC,IAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAD0C,CAE1C;;AACAN,IAAAA,UAAU,CAACO,cAAX,GAA4BJ,IAA5B,CAAiC,UAASK,CAAT,EAAY;AACzC;AACA,UAAIC,EAAE,GAAGb,QAAQ,CAACc,SAAT,EAAT;AACAD,MAAAA,EAAE,CAACE,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BC,GAA3B,CAA+B;AAC3BC,QAAAA,OAAO,EAAEjB,MADkB;AAE3BkB,QAAAA,SAAS,EAAEP;AAFgB,OAA/B,EAIKL,IAJL,CAIU,UAASa,MAAT,EAAiB;AACnBX,QAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0CU,MAAM,CAACC,EAAjD;AACH,OANL,EAOKC,KAPL,CAOW,UAASC,KAAT,EAAgB;AACnBd,QAAAA,OAAO,CAACc,KAAR,CAAc,yBAAd,EAAyCA,KAAzC;AACH,OATL;AAUH,KAbD;AAcH,GAjBD;AAqBH","sourcesContent":["function upload_user_profile(firebase,userID, Image /*...*/) {\n\n    //get the storage reference\n    var storage = firebase.storage();\n    var storageRef = storage.ref('images/'+userID+'.jpg');\n    //store image to storage\n    storageRef.put(Image).then(function(snapshot) {\n        console.log('Uploaded a blob or file!');\n        //get the url to the storage\n        storageRef.getDownloadURL().then(function(t) {\n            //get the database reference\n            var db = firebase.firestore();\n            db.collection(\"users\").add.png({\n                user_id: userID,\n                image_url: t\n            })\n                .then(function(docRef) {\n                    console.log(\"Document written with ID: \", docRef.id);\n                })\n                .catch(function(error) {\n                    console.error(\"Error adding document: \", error);\n                });\n        })\n    });\n\n\n\n}"]},"metadata":{},"sourceType":"module"}