{"version":3,"sources":["components/icons/cirko-trans.png","components/icons/cirko2.png","serviceWorker.js","components/Landing/index.js","constants/routes.js","constants/roles.js","components/Firebase/context.js","components/Firebase/firebase.js","components/Firebase/index.js","components/SignUp/index.js","components/SignIn/index.js","components/PasswordForget/index.js","components/Session/context.js","components/Session/withAuthentication.js","components/Session/withAuthorization.js","components/Firebase/upload.js","components/utils/getLocation.js","components/CreatePost/index.js","components/Firebase/getPosts.js","components/ImageContainer/index.js","components/Home/NavBar1/index.js","components/Home/PostPage/Ads.js","components/Home/PostPage/index.js","components/Home/Account/PasswordChange/index.js","components/Home/Account/SignOut/index.js","components/Home/Account/index.js","components/Home/Account/EditAvatar/index.js","components/Home/Account/About/index.js","components/Home/Account/MyPosts/index.js","components/Home/Account/FavPosts/index.js","components/Home/Account/EditName/index.js","components/Comments/index.js","components/Comments/AddComment/index.js","components/Home/index.js","components/Admin/index.js","components/App/index.js","index.js","components/icons/add.png"],"names":["module","exports","Boolean","window","location","hostname","match","Component","HOME","ACCOUNT","EDITAVATAR","POSTPAGE","CREATEPOST","ABOUT","ADMIN","FirebaseContext","React","createContext","withFirebase","props","Consumer","firebase","config","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Firebase","doCreateUserWithEmailAndPassword","email","password","auth","createUserWithEmailAndPassword","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doSignInWithGoogle","signInWithPopup","googleProvider","doSignOut","signOut","doPasswordReset","sendPasswordResetEmail","doPasswordUpdate","currentUser","updatePassword","onAuthUserListener","next","fallback","onAuthStateChanged","authUser","user","uid","get","then","snapshot","dbUser","data","db","doc","users","collection","app","initializeApp","this","firestore","GoogleAuthProvider","storage","fieldValue","FieldValue","functions","SignUpPage","mode","icon","type","onLeftClick","history","goBack","className","src","require","alt","SignUpForm","INITIAL_STATE","userId","username","passwordOne","passwordTwo","error","isAdmin","SignUpFormBase","onSubmit","event","state","roles","ROLES","set","avatarUrl","photoURL","following","followers","posts","posts_num","likes","merge","setState","push","ROUTES","catch","preventDefault","onChangeUsername","onChangeEmail","onChangePasswordOne","onChangePasswordTwo","isInvalid","name","value","onChange","placeholder","disabled","onClick","message","SignUpLink","to","compose","withRouter","SignInFormBase","onPasswordChange","onEmailChange","SignInGoogleBase","socialAuthUser","displayName","style","textAlign","alignItems","SignInForm","SignInGoogle","SignInPage","PasswordForgetFormBase","target","PasswordForgetPage","PasswordForgetForm","AuthUserContext","withAuthentication","WithAuthentication","JSON","parse","localStorage","getItem","listener","setItem","stringify","removeItem","Provider","withAuthorization","condition","WithAuthorization","savePostToDB","user_id","content","pictures","place","callback","post_id","time","Date","toString","userAvatar","postId","userID","pictures_url","comments","Images","i","length","ref","put","file","getDownloadURL","url","update","arrayUnion","console","save_multiple_image","like_user_id","Promise","resolve","reject","err","get_location","navigator","geolocation","getCurrentPosition","position","pos","lat","coords","latitude","lng","longitude","log","files","isSwitched","contentRef","createRef","add","addPost","id","userName","current","pics","multiple","onConfirm","exists","get_user_profile","httpsCallable","geocodeLatLng","result","code","details","onChangePic","index","onAddImageClick","e","concat","onTabChange","key","onAddCanceledHandler","backgroundColor","borderBottomLeftRadius","borderBottomRightRadius","height","width","top","zIndex","leftContent","marginTop","marginLeft","color","fontSize","fontWeight","rightContent","background","autoHeight","labelNumber","rows","count","Item","thumb","extra","checked","platform","onImageClick","fs","selectable","a","docRef","get_posts_from_post_ID_list","pID_list","list_posts","get_post","post","unshift","ImageContainer","align","picClose","currentImg","NavBar1","Ads","imgHeight","ads","timeout","setTimeout","clearTimeout","autoplay","infinite","map","val","href","display","verticalAlign","onLoad","dispatchEvent","Event","renderItems","isLoading","list","sort","b","fliter","distance","querySnapshot","forEach","help_get_all_post","get_all_post","check","onClickComment","clickImg","isImgClick","slider","toLocaleString","dataSource","DataSource","getRowData","dataBlob","sectionID","rowID","getSectionHeaderData","rowHasChanged","row1","row2","sectionHeaderHasChanged","s1","s2","document","documentElement","clientHeight","hasMore","loading","flex","defaultValue","min","max","step","marginRight","size","borderRadius","obj","padding","marginBottom","lineHeight","borderBottom","item","disableDelete","activeStyle","PasswordChangeForm","onChangePassword","onChangeConfirm","onClickAvatar","onClickAdd","initPage","about","timeout1","paddingLeft","arrow","PasswordChange","SignOut","user_ID","Image","storageRef","updateProfile","imageUrl","About","get_all_post_by_id","res","get_all_liked_posts","user_name","nameRef","replace","margin","pageIndex","NUM_ROWS","onEndReached","rData","pIndex","ii","genData","cloneWithRows","params","comment_user_avatar","comment_user_name","comment_user_id","comment","HomePage","isAddClicked","path","component","CreatePost","Comments","AddComment","unselectedTintColor","tintColor","barTintColor","tabBarPosition","hidden","prerenderingSiblingsNumber","title","selectedIcon","selected","selectedTab","onPress","data-seed","PostPage","uri","AccountPage","EditAvatar","EditName","MyPosts","FavPosts","AdminPage","unsubscribe","onSnapshot","UserList","ReactDOM","render","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.16a85353.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/cirko-trans.9ee8e1fe.png\";","module.exports = __webpack_public_path__ + \"static/media/cirko2.68d68d5c.png\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React, {Component} from 'react';\n\nclass Landing extends Component {\n    render() {\n        return (\n            <div>\n\n            </div>\n        );\n    }\n}\n\nexport default Landing;","export const LANDING = '/';\nexport const SIGN_UP = '/signup';\nexport const SIGN_IN = '/signin';\nexport const HOME = '/home';\nexport const ACCOUNT = '/home/account';\nexport const ADMIN = '/admin';\nexport const PASSWORD_FORGET = '/pw-forget';\nexport const COMMENTS = '/home/comments/:id';\nexport const ADDCOMMENT = '/home/addcomment/:id';\nexport const EDITAVATAR ='/home/editavatar';\nexport const EDITNAME = '/home/editname';\nexport const POSTPAGE ='/home/postpage'\nexport const MYPOSTS = '/home/myposts';\nexport const FAVPOSTS = '/home/favposts';\nexport const CREATEPOST = '/home/createpost';\nexport const FOLLOWING = '/home/following';\nexport const ABOUT = '/home/about';\n\n\n","export const ADMIN = 'ADMIN';","import React from 'react';\nconst FirebaseContext = React.createContext(null);\nexport const withFirebase = Component => props => (\n    <FirebaseContext.Consumer>\n        {firebase => <Component {...props} firebase={firebase} />}\n    </FirebaseContext.Consumer>\n);\nexport default FirebaseContext;","import app from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firestore';\nimport 'firebase/storage';\nimport 'firebase/functions'\n\n\nconst config = {\n\n    apiKey: process.env.REACT_APP_API_KEY,\n    authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n    databaseURL: process.env.REACT_APP_DATABASE_URL,\n    projectId: process.env.REACT_APP_PROJECT_ID,\n    storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n    messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n    appId: process.env.REACT_APP_APP_ID,\n    measurementId:process.env.REACT_APP_MEASUREMENT_ID,\n\n\n};\nclass Firebase {\n    constructor() {\n        app.initializeApp(config);\n        this.auth = app.auth();\n        this.db = app.firestore();\n        this.googleProvider = new app.auth.GoogleAuthProvider();\n        this.storage = app.storage();\n        this.fieldValue = app.firestore.FieldValue;\n        this.functions = app.functions();\n    }\n\n    // *** Auth API ***\n    doCreateUserWithEmailAndPassword = (email, password) =>\n        this.auth.createUserWithEmailAndPassword(email, password);\n    doSignInWithEmailAndPassword = (email, password) =>\n        this.auth.signInWithEmailAndPassword(email, password);\n\n    doSignInWithGoogle = () =>\n        this.auth.signInWithPopup(this.googleProvider);\n\n\n\n    doSignOut = () => this.auth.signOut();\n    doPasswordReset = email => this.auth.sendPasswordResetEmail(email);\n    doPasswordUpdate = password =>\n        this.auth.currentUser.updatePassword(password);\n\n\n    // *** Merge Auth and DB User API *** //\n    onAuthUserListener = (next, fallback) =>\n        this.auth.onAuthStateChanged(authUser => {\n            if (authUser) {\n                this.user(authUser.uid)\n                    .get()\n                    .then(snapshot => {\n                        const dbUser = snapshot.data();\n\n                        // default empty roles\n\n                        // merge auth and db user\n                        authUser = {\n                            uid: authUser.uid,\n                            email: authUser.email,\n                            ...dbUser,\n                        };\n                        next(authUser);\n                    });\n            } else {\n                fallback();\n            }\n        });\n\n\n    // *** User API ***\n    user = uid => this.db.doc(`users/${uid}`);\n    users = () => this.db.collection('users');\n\n\n}\nexport default Firebase;\n","import FirebaseContext, { withFirebase } from './context';\nimport Firebase from './firebase';\nexport default Firebase;\nexport { FirebaseContext, withFirebase };","import React, { Component } from 'react';\nimport { NavLink, withRouter } from 'react-router-dom';\n\nimport * as ROUTES from '../../constants/routes';\nimport * as ROLES from '../../constants/roles';\nimport { compose } from 'recompose';\nimport { Button, Icon, InputItem, NavBar } from 'antd-mobile'\nimport { withFirebase } from '../Firebase';\nimport './index.css'\n\n\nclass SignUpPage extends Component {\n    render() {\n        return (\n            <div>\n                <NavBar\n                    mode=\"light\"\n                    icon={<Icon type=\"left\" />}\n                    onLeftClick={() => {this.props.history.goBack()}}\n                >Sign Up</NavBar>\n                <div className={\"icon1\"}>\n                    <img className={\"image\"} src={require(\"../icons/cirko-trans.png\")} alt=\"\"/>\n                </div>\n                <div className={\"icon2\"}>\n                    <h2 className={\"appName\"}>CIRKO</h2>\n                </div>\n                <SignUpForm />\n            </div>\n        );\n    }\n}\n\n\nconst INITIAL_STATE = {\n    userId:'',\n    username: '',\n    email: '',\n    passwordOne: '',\n    passwordTwo: '',\n    error: null,\n    isAdmin: false,\n};\n\nclass SignUpFormBase extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { ...INITIAL_STATE };\n    }\n\n    onSubmit = event => {\n        const { username, email, passwordOne, isAdmin } = this.state;\n        const roles = {};\n        if (isAdmin) {\n            roles[ROLES.ADMIN] = ROLES.ADMIN;\n        }\n        this.props.firebase\n            .doCreateUserWithEmailAndPassword(email, passwordOne)\n            .then(authUser => {\n                // Create a user in your Firebase realtime database\n                return this.props.firebase\n                    .user(authUser.user.uid)\n                    .set({\n                            avatarUrl:authUser.user.photoURL,\n                            following: [],\n                            followers: [],\n                            posts: [],\n                            posts_num: 0,\n                            likes:[],\n                            userId:authUser.user.uid,\n                            username,\n                            email,\n                            roles,\n                        },\n                        {merge: true},\n                    );\n            })\n            .then(authUser => {\n                this.setState({ ...INITIAL_STATE });\n                this.props.history.push(ROUTES.HOME);\n            })\n            .catch(error => {\n                this.setState({ error });\n            });\n        event.preventDefault();\n\n\n\n    }\n    onChangeUsername = event => {\n        this.setState({ username: event});\n    };\n    onChangeEmail = event => {\n        this.setState({ email: event });\n    };\n    onChangePasswordOne = event => {\n        this.setState({ passwordOne: event });\n    };\n    onChangePasswordTwo = event => {\n        this.setState({ passwordTwo: event });\n    };\n\n\n    render() {\n        const {\n            username,\n            email,\n            passwordOne,\n            passwordTwo,\n            error,\n            isAdmin,\n        } = this.state;\n\n\n        const isInvalid =\n            passwordOne !== passwordTwo ||\n            passwordOne === '' ||\n            email === '' ||\n            username === '';\n\n        return (\n            <form >\n                <InputItem\n                    name=\"username\"\n                    value={username}\n                    onChange={this.onChangeUsername}\n                    type=\"text\"\n                    placeholder=\"Full Name\"\n                ></InputItem>\n                <InputItem\n                    name=\"email\"\n                    value={email}\n                    onChange={this.onChangeEmail}\n                    type=\"text\"\n                    placeholder=\"Email Address\"\n                ></InputItem>\n                <InputItem\n                    name=\"passwordOne\"\n                    value={passwordOne}\n                    onChange={this.onChangePasswordOne}\n                    type=\"password\"\n                    placeholder=\"Password\"\n                ></InputItem>\n                <InputItem\n                    name=\"passwordTwo\"\n                    value={passwordTwo}\n                    onChange={this.onChangePasswordTwo}\n                    type=\"password\"\n                    placeholder=\"Confirm Password\"\n\n                ></InputItem>\n\n\n\n                <Button disabled={isInvalid} type={\"primary\"} onClick={this.onSubmit}>Sign Up</Button>\n                {error && <p>{error.message}</p>}\n            </form>\n        );\n    }\n}\n\nconst SignUpLink = () => (\n    <Button>\n        Don't have an account? <NavLink to={ROUTES.SIGN_UP}>Sign Up</NavLink>\n    </Button>\n);\nconst SignUpForm = compose(\n    withRouter,\n    withFirebase,\n)(SignUpFormBase);\nexport default SignUpPage;\nexport { SignUpForm, SignUpLink };","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { compose } from 'recompose';\nimport { withFirebase } from '../Firebase';\nimport * as ROUTES from '../../constants/routes';\n\nimport { SignUpLink } from '../SignUp';\nimport \"./index.css\"\nimport { Button, InputItem, List, WhiteSpace } from 'antd-mobile';\n\nconst SignInPage = () => (\n    <div>\n      <div className={\"icon1\"}>\n          <img className={\"image\"} src={require(\"../icons/cirko-trans.png\")} alt=\"\"/>\n      </div>\n        <div className={\"icon2\"}>\n            <h2 className={\"appName\"}>CIRKO</h2>\n        </div>\n        <SignInForm />\n        <br/>\n        <SignInGoogle />\n        <br/>\n        {/*<PasswordForgetLink />*/}\n        <SignUpLink />\n    </div>\n);\nconst INITIAL_STATE = {\n    email: '',\n    password: '',\n    error: null,\n};\nclass SignInFormBase extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { ...INITIAL_STATE };\n    }\n\n    onSubmit = event => {\n        const { email, password } = this.state;\n        this.props.firebase\n            .doSignInWithEmailAndPassword(email, password)\n            .then(() => {\n                this.setState({ ...INITIAL_STATE });\n                this.props.history.push(ROUTES.HOME);\n            })\n            .catch(error => {\n                this.setState({ error });\n            });\n        event.preventDefault();\n    };\n    onPasswordChange = event => {\n         this.setState({ password: event});\n\n    };\n    onEmailChange = event => {\n        this.setState({ email: event });\n\n    };\n    render() {\n        const { email, password, error } = this.state;\n        const isInvalid = password === '' || email === '';\n        return (\n            <div >\n\n            <List>\n                <InputItem\n\n                        name=\"email\"\n                        value={email}\n                        onChange={this.onEmailChange}\n                        type=\"text\"\n                        placeholder=\"Email Address\"\n\n                ></InputItem>\n\n                <WhiteSpace/>\n                <InputItem\n\n                        name=\"password\"\n                        value={password}\n                        onChange={this.onPasswordChange}\n                        type=\"password\"\n                        placeholder=\"Password\"\n\n                ></InputItem>\n            </List>\n                <WhiteSpace/>\n\n                <WhiteSpace/>\n                <List>\n                <Button  type=\"warning\" onClick={this.onSubmit}>\n                    Sign In\n                </Button>\n                {error && <p>{error.message}</p>}\n                </List>\n            </div>\n        );\n    }\n}\n\n\n\nclass SignInGoogleBase extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { error: null };\n    }\n    onSubmit = event => {\n        this.props.firebase\n            .doSignInWithGoogle()\n            .then(socialAuthUser => {\n                // Create a user in your Firebase Realtime Database too\n                return this.props.firebase\n                    .user(socialAuthUser.user.uid)\n                    .set({\n                        username: socialAuthUser.user.displayName,\n                        email: socialAuthUser.user.email,\n                        roles: {},\n                            avatarUrl:socialAuthUser.user.photoURL,\n                            userId:socialAuthUser.user.uid,\n\n                    },\n                        { merge: true });\n            })\n            .then(socialAuthUser => {\n                this.setState({ error: null });\n                this.props.history.push(ROUTES.POSTPAGE);\n            })\n            .catch(error => {\n                this.setState({ error });\n            });\n        event.preventDefault();\n    };\n    render() {\n        const { error } = this.state;\n        return (\n            <div  >\n                <Button  type={'submit'} onClick={this.onSubmit}  >\n                   <div style={{textAlign:\"top\", alignItems:'center'}}>\n                    <img className={\"googleIcon\"} src=\"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg\" alt=\"\"/>\n                       <span className={\"google\"}>Sign In with Google</span>\n                   </div>\n                   </Button>\n                {error && <p>{error.message}</p>}\n            </div>\n        );\n    }\n}\n\n\n\n\nconst SignInForm = compose(\n    withRouter,\n    withFirebase,\n)(SignInFormBase);\n\n\nconst SignInGoogle = compose(\n    withRouter,\n    withFirebase,\n)(SignInGoogleBase);\n\nexport default SignInPage;\nexport { SignInForm };","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withFirebase } from '../Firebase';\nimport * as ROUTES from '../../constants/routes';\nimport {Button}from 'antd-mobile'\nconst PasswordForgetPage = () => (\n    <div>\n        <h1>PasswordForget</h1>\n        <PasswordForgetForm />\n    </div>\n);\nconst INITIAL_STATE = {\n    email: '',\n    error: null,\n};\nclass PasswordForgetFormBase extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { ...INITIAL_STATE };\n    }\n    onSubmit = event => {\n        const { email } = this.state;\n        this.props.firebase\n            .doPasswordReset(email)\n            .then(() => {\n                this.setState({ ...INITIAL_STATE });\n            })\n            .catch(error => {\n                this.setState({ error });\n            });\n        event.preventDefault();\n    };\n    onChange = event => {\n        this.setState({ [event.target.name]: event.target.value });\n    };\n    render() {\n        const { email, error } = this.state;\n        const isInvalid = email === '';\n        return (\n            <form onSubmit={this.onSubmit}>\n                <input\n                    name=\"email\"\n                    value={this.state.email}\n                    onChange={this.onChange}\n                    type=\"text\"\n                    placeholder=\"Email Address\"\n                />\n                <Button disabled={isInvalid} type=\"submit\">\n                    Reset My Password\n                </Button>\n                {error && <p>{error.message}</p>}\n            </form>\n        );\n    }\n}\nconst PasswordForgetLink = () => (\n    <p>\n        <Link to={ROUTES.PASSWORD_FORGET}>Forgot Password?</Link>\n    </p>\n);\nexport default PasswordForgetPage;\nconst PasswordForgetForm = withFirebase(PasswordForgetFormBase);\nexport { PasswordForgetForm, PasswordForgetLink };","import React from 'react';\nconst AuthUserContext = React.createContext(null);\nexport default AuthUserContext;","import React from 'react';\nimport AuthUserContext from './context';\nimport { withFirebase } from '../Firebase';\nconst withAuthentication = Component => {\n    class WithAuthentication extends React.Component {\n        constructor(props) {\n            super(props);\n            this.state = {\n                authUser: JSON.parse(localStorage.getItem('authUser')),\n            };\n        }\n\n        componentDidMount() {\n            this.listener = this.props.firebase.onAuthUserListener(\n                authUser => {\n                    //browser's local storage stores the authUser\n                    localStorage.setItem('authUser', JSON.stringify(authUser));\n                    this.setState({ authUser });\n                },\n                () => {\n                    localStorage.removeItem('authUser');\n                    this.setState({ authUser: null });\n                },\n            );\n        }\n\n        render() {\n            return (\n                <AuthUserContext.Provider value={this.state.authUser}>\n                    <Component {...this.props} />\n                </AuthUserContext.Provider>\n            );\n        }\n\n        componentWillUnmount() {\n            this.listener();\n        }\n    }\n    return withFirebase(WithAuthentication);\n};\nexport default withAuthentication;","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { compose } from 'recompose';\nimport { withFirebase } from '../Firebase';\nimport * as ROUTES from '../../constants/routes';\nimport AuthUserContext from './context';\n\nconst withAuthorization = condition => Component => {\n    class WithAuthorization extends React.Component {\n        componentDidMount() {\n            this.listener = this.props.firebase.onAuthUserListener(\n                authUser => {\n                    if (!condition(authUser)) {\n                        this.props.history.push(ROUTES.SIGN_IN);\n                    }\n                },\n                () => this.props.history.push(ROUTES.SIGN_IN),\n            );\n        }\n        componentWillUnmount() {\n            this.listener();\n        }\n        render() {\n            return (\n                <AuthUserContext.Consumer>\n                    {authUser =>\n                        condition(authUser) ? <Component {...this.props} /> : null\n                    }\n                </AuthUserContext.Consumer>\n            );\n        }\n    }\n    return compose(\n        withRouter,\n        withFirebase,\n    )(WithAuthorization);\n};\nexport default withAuthorization;\n","import { withFirebase } from '../Firebase';\n// Your web app's Firebase configuration\n\n// Initialize Firebase\n\n\n//when user select a picture as a (head-pic)? save it to the storage\nfunction updateImage(firebase, user_ID, Image) {\n    return new Promise((resolve, reject)=>{\n        //get the storage reference\n        var storage = firebase.storage;\n        var db= firebase.db;\n        var storageRef = storage.ref('images/' + user_ID + '.jpg');\n        //store image to storage\n        storageRef.put(Image).then(function (snapshot) {\n            storageRef.getDownloadURL().then((url) => {\n                db.collection(\"users\").doc(user_ID).update({\n                    avatarUrl:url\n                }).then(()=>{\n                    firebase.auth.currentUser.updateProfile({\n                        photoURL: url\n                    }).then(() => {\n                        resolve(\"succeed\");\n\n                    }).catch((err) => {\n                       resolve(err.toString())\n                    })\n                })\n            })\n        });\n    });\n\n\n}\n\n//when user wants to save his profile\n//if no picture selected before? should we just create a no pic?\n function updateUserName(firebase, user_ID, user_name/*...*/) {\n   return new Promise((resolve, reject)=>{\n       var db = firebase.db;\n       console.log( db.collection(\"users\").doc(user_ID));\n       db.collection(\"users\").doc(user_ID).update({\n           username: user_name,\n       })\n           .then(function (docRef) {\n               firebase.auth.currentUser.updateProfile({\n                   displayName: user_name\n               }).then(() => {\n                    resolve(\"success\")\n               }).catch((err) => {\n                   reject(err.toString())\n\n               })\n           })\n           .catch(function (error) {\n               console.error(\"Error writing user profile to db\", error);\n           });\n\n   })\n\n\n}\n\n//follower wants to follow followed...Or any better name?\nfunction follow(firebase, follower_id, followed_id) {\n    //get the database reference\n    var db = firebase.firestore();\n    db.collection(\"users\").doc(follower_id).update({\n        following: firebase.firestore.FieldValue.arrayUnion(followed_id)\n    })\n    db.collection(\"users\").doc(followed_id).update({\n        followers: firebase.firestore.FieldValue.arrayUnion(follower_id)\n    })\n}\n\n//when user share a post and then you will need to save it to the database\n// passing a user obj? and a post object will be a better option.\n// post_id = user_id + \"_post_\" + posts_num.toString();!!! important\nfunction savePostToDB(firebase, user_id, username, posts_num, content,  pictures,location, place, callback) {\n    //get the database reference\n    var db = firebase.db;\n    //generate post id\n    var post_id = user_id + \"_post_\" + posts_num;\n    posts_num = posts_num*1 + 1;\n    //generate time\n    var myDate = new Date();\n    var time = myDate.toString();\n\n    //store post into post db\n    db.collection(\"posts\").doc(post_id).set({\n        userAvatar:firebase.auth.currentUser.photoURL,\n        postId:post_id,\n        userID: user_id,\n        username:username,\n        content: content,\n        location: location,\n        pictures_url: [],\n        comments: [],\n\n        place: place,\n        likes: [],\n        time: time\n    });\n\n    //store images and update the url of pictures in database\n    save_multiple_image(firebase, post_id, pictures);\n\n    //update user data base\n    db.collection(\"users\").doc(user_id).update({\n        posts: firebase.fieldValue.arrayUnion(post_id),\n        posts_num: posts_num\n    }).then(\n        callback()\n    )\n}\n\n\n//when user select a picture as a (head-pic)? save it to the storage\nfunction save_multiple_image(firebase, post_id, Images) {\n    //get the storage reference\n    var storage = firebase.storage;\n    var db = firebase.db;\n    for (var i = 0; i < Images.length; i++) {\n        var storageRef = storage.ref('images/' + post_id + '_' + i.toString() + '.jpg');\n        //store image to storage\n        storageRef.put(Images[i].file).then(function (snapshot) {\n            snapshot.ref.getDownloadURL().then(function (url) {\n                //update the url in DB\n                db.collection(\"posts\").doc(post_id).update({\n                    pictures_url: firebase.fieldValue.arrayUnion(url)\n                })\n            })\n                .catch(function (error) {\n                    console.error(\"Error writing get URL for the image\", error);\n                });\n        });\n    }\n}\n\n\n//comments\nfunction comments(firebase, comment_user_id, comment_user_name,comment_user_avatar,content, post_id,callback) {\n    //get the database reference\n    var db = firebase.db;\n    //create a comment object\n    var comment = {content: content, comment_user_id: comment_user_id,comment_user_name,comment_user_avatar, post_id: post_id};\n    //update database\n    // console.log( firebase.fieldValue.arrayUnion(comment))\n    db.collection(\"posts\").doc(post_id).update({comments: firebase.fieldValue.arrayUnion(comment)}).then(\n        callback\n    );\n}\n\n//\n\n//like\nfunction likes(firebase, like_user_id, post_id) {\n    return new Promise((resolve,reject)=>{\n        //get the database reference\n        var db = firebase.db;\n        //update database\n        db.collection(\"posts\").doc(post_id).update({likes: firebase.fieldValue.arrayUnion(like_user_id)}).then(()=>{resolve(\"sucecss\")}).catch(err=>{\n            reject(err.toString())\n        });\n        db.collection(\"users\").doc(like_user_id).update({likes: firebase.fieldValue.arrayUnion(post_id)}).then(()=>{resolve(\"sucecss\")}).catch((err)=>{\n            reject(err.toString())\n        });\n    })\n\n}\n\nfunction get_user_profile(firebase,user_id, callback) {\n    //get db reference\n    var db = firebase.db;\n    var docRef = db.collection(\"users\").doc(user_id);\n\n    docRef.get().then(function(doc) {\n        if (doc.exists) {\n\n            callback(doc.data());\n        } else {\n            // doc.data() will be undefined in this case\n            console.log(\"No such document!\");\n        }\n    }).catch(function(error) {\n        console.log(\"Error getting document:\", error);\n    });\n\n}\nexport { updateImage, updateUserName, comments, follow, savePostToDB,get_user_profile,likes}","\nconst get_location =(callback)=> {\n     if (navigator.geolocation) {\n         navigator.geolocation.getCurrentPosition(function (position) {\n             var pos = {\n                 lat: position.coords.latitude,\n                 lng: position.coords.longitude\n             };\n\n             callback(pos);\n             return pos;\n         });\n     } else {\n         // Browser doesn't support Geolocation\n         console.log(\"error: Browser doesn't support Geolocation\");\n\n     }\n }\n\n /* pass the location and the result is the formatted address */\n// const geocodeLatLng =(location, callback) =>{\n//      var geocoder = new google.maps.Geocoder;\n//      var latlng = {lat: location.lat, lng: location.lng};\n//      geocoder.geocode({'location': latlng}, function(results, status) {\n//          if (status === 'OK') {\n//              if (results[0]) {\n//                  callback(results[0].formatted_address);\n//              } else {\n//                  window.alert('No results found');\n//              }\n//          } else {\n//              window.alert('Geocoder failed due to: ' + status);\n//          }\n//      });\n//  }\n\n /* the result will be the list of posts which meet the requirement */\n// const fliter =(list_posts, distance, user_location, callback)=>{\n//      let mydestinations = [];\n//      console.log(list_posts);\n//      for(let i = 0; i<list_posts.length; i++) {\n//          mydestinations.push(new google.maps.LatLng(list_posts[i].location.lat, list_posts[i].location.lng));\n//      }\n//      let ori = new google.maps.LatLng(user_location.lat, user_location.lng);\n//      var service = new google.maps.DistanceMatrixService();\n//      let return_list = [];\n//      service.getDistanceMatrix(\n//          {\n//              origins: [ori],\n//              destinations: mydestinations,\n//              travelMode: 'WALKING'\n//          }, (response, status)=>{return_list = fliter_help(response, status, distance, list_posts)\n//              callback(return_list);\n//          });\n//  }\n\n// const fliter_help =(response, status, dis, list_posts) =>{\n//      let distances = [];\n//      let return_list = [];\n//      if (status == 'OK') {\n//          var origins = response.originAddresses;\n//\n//          for (var i = 0; i < origins.length; i++) {\n//              var results = response.rows[i].elements;\n//              for (var j = 0; j < results.length; j++) {\n//                  var element = results[j];\n//                  var distance = element.distance.value;\n//                  distances.push(distance);\n//              }\n//          }\n//          for(let i = 0; i < distances.length; i++) {\n//              if(distances[i] < dis) {\n//                  return_list.push(list_posts[i]);\n//              }\n//          }\n//          return return_list;\n//      }\n//      return return_list;\n//  }\nexport {get_location}","import React, { Component } from 'react';\nimport { withAuthentication } from \"../Session\";\nimport { ImagePicker, List, NavBar, Switch, TextareaItem, WingBlank } from 'antd-mobile'\nimport add from \"../icons/add.png\";\nimport { get_user_profile, savePostToDB } from \"../Firebase/upload\";\nimport { get_location } from \"../utils/getLocation\";\n\n\nclass CreatePost extends Component {\n    state = {\n        content: '',\n        files: [],\n        location: '',\n        isSwitched:false\n\n\n    }\n    contentRef = React.createRef();\n    add = () => {\n        let { addPost } = this.props\n        let content = this.contentRef.current.value;\n        const postObj = { id: 4, userName: 'Jack', time: '10:31 10/10/2019', content: content, pics: [], likes: 0 }\n        addPost(postObj)\n        this.setState({\n            content: '',\n            pics: [],\n            multiple: true\n        })\n\n    }\n\n\n    onChange = event => {\n        this.setState({ content: event });\n    };\n\n    onConfirm = () => {\n        get_location((location)=> {\n\n            const firebase = this.props.firebase;\n            const uid = firebase.auth.currentUser.uid;\n            const username = firebase.auth.currentUser.displayName;\n            const callback = ({posts_num}) => {\n                console.log(location);\n                let geocodeLatLng = firebase.functions.httpsCallable(\"geocodeLatLng\");\n\n                geocodeLatLng(location).then( (result)=> {\n                    // Read result of the Cloud Function.\n                    let place = null;\n                    if(this.state.isSwitched){\n                        place = result.data;\n                    }\n                    savePostToDB(firebase,uid,username,posts_num||0,this.state.content,this.state.files,location,place,() => {\n\n                        this.props.history.goBack();\n                    })\n\n                }).catch( (error) => {\n                    // Getting the Error details.\n                    var code = error.code;\n                    var message = error.message;\n                    var details = error.details;\n                    console.log(code);\n                    console.log(message);\n                    console.log(details);\n                    // ...\n                });\n\n\n            }\n\n\n\n                get_user_profile(firebase, uid, callback);\n\n        })\n\n\n\n        }\n\n    onChangePic = (files, type, index) => {\n        console.log(files, type, index);\n        this.setState({\n            files,\n        });\n    }\n    onAddImageClick = (e) => {\n        e.preventDefault();\n        this.setState({\n            files: this.state.files.concat({\n                url: 'https://zos.alipayobjects.com/rmsportal/hqQWgTXdrlmVVYi.jpeg',\n                id: '3',\n            }),\n        });\n    };\n    onTabChange = (key) => {\n        console.log(key);\n    };\n    render() {\n\n        const { onAddCanceledHandler } = this.props\n        let { content, files } = this.state\n        return (\n            <div>\n                <NavBar\n\n                    style={{backgroundColor: '#5396a5', borderBottomLeftRadius:'100%', borderBottomRightRadius:'100%',  height:\"7vh\",position:'fixed',width:\"100%\", top:0,zIndex:1}}\n\n                    mode=\"light\"\n                    leftContent={\n                        <div onClick={() => this.props.history.goBack()} style={{ width: '40px', marginTop: \"-20px\", marginLeft: '5px', color: 'White', fontSize: '40px', fontWeight: 'bold' }}> &lt;\n                        </div>\n                    }\n\n\n                    rightContent={\n\n                        <div onClick={this.onConfirm}  style={{width: '40px',marginTop:\"-10px\",}}><img src={add} style={{width:\"40px\"}} alt=\"add\"/>\n\n                        </div>\n\n                    }\n                ><h1 style={{ color: \"white\", }}>Post</h1>\n\n                </NavBar>\n\n\n                <List>\n                    <div style={{ height: '70px', background: 'white' }}></div>\n                    <TextareaItem\n\n                        placeholder={\"What's happening?\"}\n                        autoHeight\n                        labelNumber={5}\n                        onChange={this.onChange}\n                        rows={5}\n                        count={300}\n                    />\n                </List>\n                <div>\n\n                    <List.Item\n                        style={{background:\"transparent\"}}\n                        thumb={\"https://image.flaticon.com/icons/png/128/149/149060.png\"}\n                        extra={<Switch\n                            checked={this.state.isSwitched}\n                            onChange={()=>{this.setState({isSwitched:!this.state.isSwitched})}}\n                            platform=\"android\"\n                            color={\"#5396a5\"}\n\n                        />}\n                    ><span style={{color:\"#5396a5\"}}>Your Position</span></List.Item>\n\n                </div>\n                <WingBlank>\n\n                    <ImagePicker\n                        files={files}\n                        onChange={this.onChangePic}\n                        onImageClick={(index, fs) => console.log(index, fs)}\n                        selectable={files.length < 9}\n                        multiple={true}\n                    />\n                </WingBlank>\n\n            </div>\n\n        );\n    }\n}\nexport default withAuthentication(CreatePost);","async function get_all_post_by_id(firebase, user_id) {\n    //get db reference\n    var db = firebase.db;\n    var docRef = db.collection(\"users\").doc(user_id);\n    //get user\n    let doc = await docRef.get();\n    if (doc.exists) {\n        return await get_posts_from_post_ID_list(firebase, doc.data().posts);\n    } else {\n        // doc.data() will be undefined in this case\n        console.log(\"No such document!\");\n    }\n}\n\n\nasync function get_all_liked_posts(firebase, user_id) {\n\n\n    var db = firebase.db;\n    var docRef = db.collection(\"users\").doc(user_id);\n    //get user\n    let doc = await docRef.get();\n    if (doc.exists) {\n        return await get_posts_from_post_ID_list(firebase, doc.data().likes);\n    } else {\n        // doc.data() will be undefined in this case\n        console.log(\"No such document!\");\n    }\n\n}\n\n\n\nfunction get_all_post_id_from_db(firebase,user_id, callback){\n    //get db reference\n    var db = firebase.db;\n    var docRef = db.collection(\"users\").doc(user_id);\n    //get user\n    docRef.get().then(function(doc) {\n        if (doc.exists) {\n            console.log(\"Document data:\");\n            get_posts_from_post_ID_list(firebase,doc.data().posts, callback);\n        } else {\n            // doc.data() will be undefined in this case\n            console.log(\"No such document!\");\n        }\n    });\n}\n\nasync function get_posts_from_post_ID_list(firebase, pID_list) {\n    var list_posts = [];\n    for (var i = 0; i < pID_list.length; i++) {\n        let post = await get_post(firebase, pID_list[i]);\n        if(post){\n            list_posts.unshift(post);\n        }\n\n    }\n    return list_posts;\n}\n\nasync function get_post(firebase, post_id){\n    //get db reference\n    var db = firebase.db;\n    var docRef = db.collection(\"posts\").doc(post_id);\n\n    var doc = await docRef.get();\n    if (doc.exists) {\n        return(doc.data());\n    } else {\n        // doc.data() will be undefined in this case\n        console.log(\"No such document!\");\n    }\n    return ;\n\n}\nfunction get_all_post(firebase, callback){\n\n    let promise = new Promise(function(resolve, reject){\n        var list_posts = [];\n        help_get_all_post(firebase, (post)=>{list_posts.unshift(post);\n\n            resolve(list_posts)\n\n        })\n\n    });\n    promise.then((data)=>{\n        // console.log(data)\n        callback(data);\n    })\n\n}\n\nfunction help_get_all_post(firebase, callback) {\n    var db = firebase.db;\n    db.collection(\"posts\").get().then(function(querySnapshot) {\n        querySnapshot.forEach(function(doc) {\n            callback(doc.data());\n        });\n    });\n}\n\n\n\n\n// function fliter(firebase,list_posts, distance, user_location, callback){\n//     let location_str = \"\";\n//     let mydestinations = [];\n//     console.log(list_posts);\n//     for(let i = 0; i<list_posts.length; i++) {\n//         mydestinations.push(new google.maps.LatLng(list_posts[i].location.lat, list_posts[i].location.lng));\n//     }\n//     let ori = new google.maps.LatLng(user_location.lat, user_location.lng);\n//     var service = new google.maps.DistanceMatrixService();\n//     let return_list = [];\n//     service.getDistanceMatrix(\n//         {\n//             origins: user_location,\n//             destinations: mydestinations,\n//             travelMode: 'WALKING'\n//         }, ()=>{return_list = fliter_help(response, status, distance, list_posts)\n//             callback(return_list);\n//         });\n// }\n//\n// function fliter_help(response, status, dis, list_posts) {\n//     let distances = [];\n//     let return_list = [];\n//     if (status == 'OK') {\n//         var origins = response.originAddresses;\n//         var destinations = response.destinationAddresses;\n//\n//         for (var i = 0; i < origins.length; i++) {\n//             var results = response.rows[i].elements;\n//             for (var j = 0; j < results.length; j++) {\n//                 var element = results[j];\n//                 var distance = element.distance.text;\n//                 distances.push(distance);\n//                 var duration = element.duration.text;\n//                 var from = origins[i];\n//                 var to = destinations[j];\n//             }\n//         }\n//\n//         for(let i = 0; i < distances.length; i++) {\n//             if(distances[i] < dis) {\n//                 return_list.push(list_posts[i]);\n//             }\n//         }\n//         return return_list;\n//     }\n//     return return_list;\n// }\n\n\n\n\n\n\n\n\nexport {get_all_post_by_id,get_all_post, get_post,get_all_liked_posts}","import React, { Component } from 'react';\n\nclass ImageContainer extends Component {\n\n    render() {\n        return (\n            <div align={\"center\"}  style={{backgroundColor: 'lightgrey',  height:\"100vh\",position:'fixed',width:\"100vw\", top:\"0\",zIndex:100}} onClick={this.props.picClose}>\n\n                <img src={this.props.currentImg}style={{ marginTop:'1vh',width:\"70%\"}}/>\n                {/*<divstyle={{marginTop:'30px'}}><buttononClick={this.props.picClose}>x</button></div>*/}\n            </div>\n\n        );\n    }\n}\n\nexport default ImageContainer;","import React, { Component } from 'react';\nimport NavBar from \"antd-mobile/lib/nav-bar\";\nimport * as ROUTES from \"../../../constants/routes\";\nimport add from '../../icons/add.png'\nclass NavBar1 extends Component {\n    render() {\n        return (\n            <NavBar\n                style={{backgroundColor: '#5396a5', borderBottomLeftRadius:'100%', borderBottomRightRadius:'100%',  height:\"7vh\",position:'fixed',width:\"100%\", top:0,zIndex:2}}\n                mode=\"light\"\n\n                rightContent={\n                    <div onClick={()=>this.props.history.push(ROUTES.CREATEPOST)} style={{width: '40px',marginTop:\"-10px\",}}>\n                        <img src={add} style={{width:\"40px\"}} alt=\"add\"/>\n                    </div>\n\n                }\n            ><h1 style={{color:\"white\",}}>CIRKO</h1>\n            </NavBar>\n        );\n    }\n}\n\nexport default NavBar1;","import React, { Component } from 'react';\nimport { Carousel, WingBlank } from \"antd-mobile\";\n\nclass Ads extends Component {\n    state={\n        imgHeight:'176px',\n        ads: ['1', '2', '3'],\n    }\n\n    componentDidMount() {\n      this.timeout = setTimeout(() => {\n            this.setState({\n                ads: [{\n                    key: 'AiyWuByWklrrUDlFignR',\n                    url: 'https://firebasestorage.googleapis.com/v0/b/my-project-1571785426296.appspot.com/o/cirko.png?alt=media&token=502ec4ab-3ecc-4d0f-94d3-1d1594715279'\n                },\n                    {\n                        key: 'TekJlZRVCjLFexlOCuWn',\n                        url: \"https://firebasestorage.googleapis.com/v0/b/my-project-1571785426296.appspot.com/o/cirko2.png?alt=media&token=6648405e-50af-4c87-9fe0-51693811c368\"\n                    },\n                    {\n                        key: 'IJOtIlfsYdTyaDTRVrLI',\n                        url: 'https://firebasestorage.googleapis.com/v0/b/my-project-1571785426296.appspot.com/o/cirko-2.png?alt=media&token=0bd8ac15-964a-4ce5-926c-f69b0de9f1a1'\n                    }],\n\n            });\n        }, 100);\n    }\n\n    componentWillUnmount() {\n        clearTimeout(this.timeout);\n    }\n\n    render() {\n        return (\n            <WingBlank style={{marginTop:'10vh',textAlign:'center'}}>\n                <Carousel\n                    autoplay={true}\n                    infinite\n                    // beforeChange={(from, to) => console.log(`slide from ${from} to ${to}`)}\n                    // afterChange={index => console.log('slide to', index)}\n                >\n                    {this.state.ads.map(val => (\n                        <a\n                            key={val.key}\n                            href=\"http://www.uci.edu\"\n                            style={{ display: 'inline-block', width: '100%', height: this.state.imgHeight }}\n                        >\n                            <img\n                                src={val.url}\n                                alt=\"\"\n                                style={{ width: '50%', verticalAlign: 'top' }}\n                                onLoad={() => {\n                                    // fire window resize event to change height\n                                    window.dispatchEvent(new Event('resize'));\n                                    this.setState({ imgHeight: 'auto' });\n                                }}\n                            />\n                        </a>\n                    ))}\n                </Carousel>\n            </WingBlank>\n        );\n    }\n}\n\nexport default Ads;","/* eslint no-dupe-keys: 0 */\nimport { Button, Flex, Icon, ImagePicker, InputItem, ListView, Slider, Toast, } from 'antd-mobile';\nimport React from 'react'\nimport { get_all_post } from \"../../Firebase/getPosts\";\nimport { get_location } from \"../../utils/getLocation\";\nimport { withAuthentication } from \"../../Session\";\nimport ImageContainer from \"../../ImageContainer\";\nimport NavBar1 from \"../NavBar1\";\nimport { likes } from \"../../Firebase/upload\";\nimport Ads from \"./Ads\";\n\n\n\nclass PostPage extends React.Component {\n\n\n    constructor(props) {\n        super(props);\n        const getSectionData = (dataBlob, sectionID) => dataBlob[sectionID];\n        const getRowData = (dataBlob, sectionID, rowID) => dataBlob[rowID];\n\n        const dataSource = new ListView.DataSource({\n            getRowData,\n            getSectionHeaderData: getSectionData,\n            rowHasChanged: (row1, row2) => row1 !== row2,\n            sectionHeaderHasChanged: (s1, s2) => s1 !== s2,\n        });\n\n        this.state = {\n            dataSource,\n            isLoading: true,\n            height: document.documentElement.clientHeight ,\n            distance:1000,\n            currentImg:'',\n            isImgClick:false,\n            hasMore:false,\n            data:[],\n\n\n        };\n    }\n\n    renderItems = ()=>{\n\n        this.setState({\n            isLoading:true\n        })\n        get_location((location)=>{\n\n\n            const callback = (list)=>{\n\n                list.sort((a,b)=>{\n\n                    return Date.parse(a.time)>=Date.parse(b.time)?-1:1})\n                let fliter = this.props.firebase.functions.httpsCallable(\"fliter\");\n\n                //console.log(this.state.location)\n               // console.log(list[1])\n                fliter([list,this.state.distance,location]).then( (result)=> {\n                    // Read result of the Cloud Function.\n\n                    result.data.sort((a,b)=>{\n                        // console.log(a)\n                        // console.log(b)\n                        return Date.parse(a.time)>=Date.parse(b.time)?-1:1})\n                    // console.log(result.data)\n                  this.setState({\n                          data:result.data,\n                            isLoading:false\n                  }\n\n                  )\n                }).catch(function (error) {\n                    // Getting the Error details.\n                    var code = error.code;\n                    var message = error.message;\n                    var details = error.details;\n                    console.log(\"filtererr\"+code);\n                    console.log(message);\n                    console.log(details);\n\n                });\n\n\n\n\n\n            }\n\n\n\n\n\n            this.setState({\n                location:location\n            }, ()=> get_all_post(this.props.firebase,callback))\n\n\n\n\n\n        })\n    }\n\n    componentDidMount() {\n\n        this.renderItems();\n\n\n\n        //console.log(a)\n        \n\n       // console.log(this.props.firebase.db.collection(\"posts\").get())\n        // you can scroll to the specified position\n        // setTimeout(() => this.lv.scrollTo(0, 120), 800);\n\n        // simulate initial Ajax\n\n    }\n\n    check = ()=>{\n\n        this.renderItems();\n\n}\n\n\n\nonClickComment =(id)=>{\n\n    this.props.history.push(`/home/comments/${id}`)\n}\n\nclickImg = (file)=>{\n\nthis.setState({\n    isImgClick:true,\n    currentImg:file.url\n})\n}\npicClose=()=>{\n\n        this.setState({\n            isImgClick:false\n        })\n}\n\nlikes = (postId)=>{\n\n    likes(this.props.firebase,this.props.firebase.auth.currentUser.uid,postId).then((result)=>{\n        // console.log(result,postId);\n        this.renderItems()\n\n    }).catch(err=>{\n        console.log(err.toString())\n    });\n\n}\n\n\n    slider =(e)=>{\n        //  console.log(e)\n        this.setState({\n            distance:e\n        })\n    }\n    a = (time)=>{\n        let date = new Date(time);\n        return date.toLocaleString();\n    };\n\n    render() {\n        if(this.state.isLoading){\n            Toast.loading('Loading...', 0.5, () => {\n                // console.log('Load complete !!!');\n            });\n        }\n\n\n\n\n        return (\n            <div >\n                {this.state.isImgClick&&<ImageContainer currentImg={this.state.currentImg} picClose={this.picClose}/>}\n               <NavBar1 history={this.props.history}/>\n\n                <Flex style={{ background: \"white\",height:\"8vh\",position:'fixed',width:\"100%\", top:\"3vh\",zIndex:1}}>\n                    <Flex.Item style={{flex:'7.5'}}>\n                        <Slider\n                        style={{marginLeft:\"20px\",marginTop:'3vh'}}\n                    defaultValue={this.state.distance*1}\n                    min={0}\n                    max={30000}\n                    step={100}\n                    value={this.state.distance}\n                    onChange={(e)=>this.slider(e)}\n                />\n\n                </Flex.Item>\n                    <Flex.Item style={{flex:'3.5',marginTop:'3vh',marginRight:'-1vw',fontSize:\"20px\", background:'rgba(0,0,0,0)'} }>\n                        <InputItem\n                            type=\"number\"\n                            onChange={(e)=>{this.setState({distance:e})}}\n                            value={this.state.distance}\n                            extra=\"m\"\n                            style={{background:'#f7f7f7'}}\n                        />\n                    </Flex.Item>\n                    <Flex.Item style={{flex:'1'}} >\n                       <Icon onClick={this.check} size='small' style={{borderRadius:'100%',background:\"#fbfbfb\",marginTop:'3vh', textAlign:'center',width:'30px' ,fontSize:\"4vh\"} }type={'check'} />\n                    </Flex.Item>\n                </Flex>\n                <Ads ads={this.state.ads}/>\n\n          <div >\n\n\n              {\n\n                  this.state.data.map((obj,index)=>{\n                      return(\n                          <div key={index} style={{ padding: '0 15px', marginBottom:'10px', background:'white' }}>\n                              <div\n                                  style={{\n                                      lineHeight: '40px',\n                                      color: '#888',\n                                      fontSize: 15,\n                                      borderBottom: '1px solid #F6F6F6',\n                                      background:'#ededed',\n\n\n                                  }}\n                              >\n                              {/*    {obj.place?<List.Item*/}\n                              {/*    thumb=\"https://image.flaticon.com/icons/png/128/149/149060.png\"*/}\n\n\n                              {/*><a zhref={\"http://maps.google.com/?q=\"+obj.place} target={\"_blank\"}>{obj.place}</a></List.Item>:\"\"}*/}\n\n\n                                  {obj.place?<img style={{width:\"5vw\"}} src=\"https://image.flaticon.com/icons/png/128/149/149060.png\" alt=\"\"/>:\"\"}<a\n                                  href={\"http://maps.google.com/?q=\"+obj.place} target={\"_blank\"}>{obj.place}</a>\n\n\n                              </div>\n\n                              <div>\n                                  <Flex style={{  padding: '15px 0' }}>\n                                      <img style={{ height: '64px', marginRight: '15px' }} src={obj.userAvatar} alt=\"\" />\n                                      <div style={{ lineHeight: 1 }}>\n\n                                          <div><span style={{  fontSize: '20px',color: '#4e77a1',fontWeight: 'bold' }}>{obj.username}</span></div>\n                                          <div style={{ color: '#5396a5',fontSize: '18px',marginBottom: '8px',marginTop: '5px'  }}>{(new Date(obj.time)).toLocaleString()}</div>\n                                      </div>\n                                  </Flex>\n                                  <Flex>\n                                      <div style={{ marginBottom: '8px', fontWeight: 'bold' }}>{obj.content}</div>\n                                  </Flex>\n                                  <div>\n                                      <ImagePicker\n                                          files={obj.pictures_url.map((item)=>{\n                                              return {url:item}\n                                          })}\n\n                                          onChange={this.onChange}\n                                          onImageClick={(index, fs) => {\n                                              this.clickImg(fs[index]);\n                                          }}\n                                          selectable={false}\n                                          disableDelete={true}\n                                          length={3}\n\n\n                                      />\n\n                                  </div>\n                              </div>\n\n                              <Flex>\n                                  <Flex.Item><Button size='small' activeStyle={{background:'#4e77a1'}} style={{background:'#5396a5' ,color:\"#ecfcee\",fontWeight: 'bold'}} onClick={()=> this.onClickComment(obj.postId)}>Comment({obj.comments.length})</Button></Flex.Item>\n                                  <Flex.Item><Button size='small' activeStyle={{background:'#4e77a1'}} style={{background:'#5396a5',color:\"#ecfcee\",fontWeight: 'bold'}} onClick={()=>this.likes(obj.postId)}>Likes {obj.likes!==0?'('+obj.likes.length+')':\"\"}</Button></Flex.Item>\n                              </Flex>\n                          </div>\n                      )\n                  })\n              }\n\n          </div>\n\n            </div>\n        );\n    }\n}\n\nexport default withAuthentication(PostPage);\n\n","import React, { Component } from 'react';\nimport { withFirebase } from '../../../Firebase';\nimport { Button, InputItem, List, WhiteSpace } from 'antd-mobile'\n\nconst INITIAL_STATE = {\n    passwordOne: '',\n    passwordTwo: '',\n    error: null,\n};\nclass PasswordChangeForm extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { ...INITIAL_STATE };\n    }\n    onSubmit = event => {\n        const { passwordOne } = this.state;\n        this.props.firebase\n            .doPasswordUpdate(passwordOne)\n            .then(() => {\n                this.setState({ ...INITIAL_STATE });\n            })\n            .catch(error => {\n                this.setState({ error });\n            });\n        event.preventDefault();\n    };\n    onChangePassword = event => {\n        this.setState({ passwordOne: event });\n    };\n    onChangeConfirm = event => {\n        this.setState({ passwordTwo: event });\n    };\n    render() {\n        const { passwordOne, passwordTwo, error } = this.state;\n        const isInvalid =\n            passwordOne !== passwordTwo || passwordOne === '';\n        return (\n            <List>\n                <InputItem\n                    name=\"passwordOne\"\n                    value={passwordOne}\n                    onChange={this.onChangePassword}\n                    type=\"password\"\n                    placeholder=\"New Password\"\n                />\n                <InputItem\n                    name=\"passwordTwo\"\n                    value={passwordTwo}\n                    onChange={this.onChangeConfirm}\n                    type=\"password\"\n                    placeholder=\"Confirm New Password\"\n                />\n                <WhiteSpace/> <WhiteSpace/>\n                <Button disabled={isInvalid} type=\"primary\" onClick={this.onSubmit}>\n                    Reset My Password\n                </Button>\n                {error && <p>{error.message}</p>}\n            </List>\n        );\n    }\n}\nexport default withFirebase(PasswordChangeForm);","import React from 'react';\nimport { withFirebase } from '../../../Firebase';\nimport {Button} from \"antd-mobile\";\n\nconst SignOutButton = ({ firebase }) => (\n    <Button type=\"warning\" onClick={firebase.doSignOut}>\n        Sign Out\n    </Button>\n);\nexport default withFirebase(SignOutButton);","import PasswordChangeForm from './PasswordChange';\nimport { Button, Flex, List, WhiteSpace } from 'antd-mobile'\nimport React, { Component } from 'react';\nimport './index.css'\nimport SignOutButton from \"./SignOut\";\nimport * as ROUTES from \"../../../constants/routes\";\nimport NavBar1 from \"../NavBar1\";\nimport withAuthentication from \"../../Session/withAuthentication\";\n\nconst avat=  \"https://image.flaticon.com/icons/png/128/149/149071.png\";\nclass AccountPage extends Component {\n    state = {\n        avatarUrl:this.props.firebase.auth.currentUser.photoURL,\n        userName:this.props.firebase.auth.currentUser.displayName,\n\n    }\n    onClickAvatar=()=>{\n        this.props.history.push(ROUTES.EDITAVATAR);\n    }\n    onClickAdd=()=>{\n    this.props.history.push(ROUTES.CREATEPOST);\n}\n\n    initPage = ()=>{\n        const avatarUrl = this.props.firebase.auth.currentUser.photoURL;\n        const userName = this.props.firebase.auth.currentUser.displayName;\n\n        this.setState({\n            avatarUrl,\n            userName\n\n\n        })\n    }\n    about = ()=>{\n        this.props.history.push(ROUTES.ABOUT);\n    }\n    componentDidMount() {\n        this.timeout1= setTimeout(\n            this.initPage(),100\n        );\n    }\n    componentWillUnmount() {\n        clearTimeout(this.timeout1)\n    }\n\n\n    render() {\n\n        return (\n\n\n                    <div >\n\n\n                      <NavBar1 history={this.props.history}/>\n\n                        <div style={{height:'70px'}}></div>\n                        <Flex className={\"userInfoContainer\"}>\n                            <Flex.Item onClick={this.onClickAvatar}><img className='avatar' src={this.state.avatarUrl} alt=\"avatar\"/></Flex.Item>\n                            <Flex.Item onClick={()=>{return  this.props.history.push(ROUTES.EDITNAME)}} style={{flex:3, paddingLeft:\"10px\"}}><h1>{this.state.userName}</h1></Flex.Item>\n\n                        </Flex>\n\n                        <List >\n                            <List.Item\n                                thumb='https://image.flaticon.com/icons/png/128/148/148836.png'\n                                arrow=\"horizontal\"\n                                onClick={() => {return this.props.history.push(ROUTES.FAVPOSTS)}}\n                            >Favorites</List.Item>\n                            <List.Item\n                                thumb=\"https://image.flaticon.com/icons/png/128/148/148998.png\"\n                                onClick={() => {return this.props.history.push(ROUTES.MYPOSTS)}}\n                                arrow=\"horizontal\"\n                            >\n                                My Posts\n                            </List.Item>\n                        </List>\n                        <WhiteSpace/>\n                        <WhiteSpace/> <WhiteSpace/> <WhiteSpace/> <WhiteSpace/> <WhiteSpace/> <WhiteSpace/> <WhiteSpace/>\n\n\n\n                        <PasswordChangeForm />\n                        <WhiteSpace/> <WhiteSpace/> <WhiteSpace/> <WhiteSpace/> <WhiteSpace/> <WhiteSpace/> <WhiteSpace/>\n                        <Button type={\"primary\"} onClick={this.about}>About</Button>\n                        <WhiteSpace/> <WhiteSpace/> <WhiteSpace/> <WhiteSpace/> <WhiteSpace/> <WhiteSpace/> <WhiteSpace/>\n\n                       <SignOutButton/>\n                    </div>\n\n\n\n        );\n    }\n}\n\n\n\nexport default withAuthentication(AccountPage);","import React, { Component } from 'react';\nimport { Button, Icon, ImagePicker, NavBar } from 'antd-mobile';\nimport { updateImage } from '../../../Firebase/upload'\nimport { withAuthentication } from \"../../../Session\";\n\n\nconst data = [{\n    url: 'https://zos.alipayobjects.com/rmsportal/PZUUCKTRIHWiZSY.jpeg',\n}, ];\nclass EditAvatar extends Component {\n    state = {\n        files: data,\n        multiple: false,\n    }\n    onChange = (files, type, index) => {\n        console.log(files, type, index);\n        this.setState({\n            files,\n        });\n    }\n    onClick=()=>{\n        let {files} = this.state;\n        // this.props.firebase.auth.currentUser.updateProfile({\n        //     photoURL:files[0]\n        // })\n        updateImage(this.props.firebase,this.props.firebase.auth.currentUser.uid,files[0].file).then((data)=>{\n            console.log(data);\n           this.props.history.goBack();\n        });\n\n\n\n    }\n    componentDidMount() {\n        const imageUrl = this.props.firebase.auth.currentUser.photoURL;\n        console.log(imageUrl)\n        this.setState({\n            files:[\n                {url:imageUrl}\n            ]\n        },()=>{\n            console.log(this.state)\n        })\n    }\n\n    render() {\n\n\n\n        return (\n            <div >\n                <NavBar\n                    mode=\"light\"\n                    icon={<Icon type=\"left\" />}\n                    onLeftClick={() => {this.props.history.goBack()}}\n\n                >Update Avatar</NavBar>\n                <ImagePicker\n                    files={this.state.files}\n                    onChange={this.onChange}\n                    onImageClick={(index, fs) => console.log(index, fs)}\n                    selectable={this.state.files.length < 1}\n                    multiple={this.state.multiple}\n                />\n                <Button type={\"primary\"} onClick={this.onClick}>Confirm</Button>\n            </div>\n        );\n    }\n}\n\nexport default withAuthentication(EditAvatar);","import React, { Component } from 'react';\nimport { Icon, List, NavBar, WingBlank } from \"antd-mobile\";\nimport * as ROUTES from \"../../../../constants/routes\";\nimport add from \"../../../icons/add.png\";\nimport icon from '../../../icons/cirko2.png'\nimport \"./index.css\"\nclass About extends Component {\n    render() {\n        return (\n            <div>\n                <NavBar\n                    style={{backgroundColor: '#5396a5', borderBottomLeftRadius:'100%', borderBottomRightRadius:'100%',  height:\"7vh\",position:'fixed',width:\"100%\", top:0,zIndex:1}}\n                    mode=\"light\"\n\n\n                    leftContent={\n                        <div onClick={()=>  this.props.history.goBack()}  style={{width: '40px',marginTop:\"-20px\", marginLeft:'5px', color:'White', fontSize:'40px',fontWeight: 'bold'}}> &lt;\n                        </div>\n                    }\n\n                ><h1 style={{color:\"white\",}}>About</h1></NavBar>\n\n\n                <div className={\"iconContainer\"}>\n                <div className={\"icon1\"}>\n                    <img className={\"image\"} src={icon} alt=\"\"/>\n                </div>\n                <div className={\"icon2\"}>\n                    <h2 className={\"appName\"}>CIRKO</h2>\n                </div>\n                </div>\n                <WingBlank size={\"lg\"} style={{background:'white'}}>\n                    <div style={{padding:'10px',color:'5396a5', fontSize:'20px'}}>\n                        CIRKO is a location-based SNS web app\n                    </div>\n                </WingBlank>\n\n            </div>\n        );\n    }\n}\n\nexport default About;","import { Button, Flex, ImagePicker, NavBar, Toast } from 'antd-mobile';\nimport React from 'react'\n\n\nimport * as ROUTES from \"../../../../constants/routes\";\n\nimport add from '../../../icons/add.png'\nimport { get_all_post_by_id } from \"../../../Firebase/getPosts\";\nimport withAuthentication from \"../../../Session/withAuthentication\";\nimport ImageContainer from \"../../../ImageContainer\";\n\n\nclass MyPosts extends React.Component {\n    constructor(props) {\n        super(props);\n\n\n        this.state = {\n\n            isLoading: true,\n            height: document.documentElement.clientHeight,\n            data: [],\n            imgHeight: 176,\n            currentImg: '',\n            isImgClick: false,\n        };\n    }\n\n    onClickComment = (id) => {\n\n        this.props.history.push(`/home/comments/${id}`)\n    }\n\n    clickImg = (file) => {\n\n        this.setState({\n            isImgClick: true,\n            currentImg: file.url\n        })\n    }\n    picClose = () => {\n        console.log(\"picCLose\")\n        this.setState({\n            isImgClick: false\n        })\n    }\n\n    componentDidMount() {\n        this.setState({\n            isLoading: true\n        })\n        // you can scroll to the specified position\n        // setTimeout(() => this.lv.scrollTo(0, 120), 800);\n        const promise = get_all_post_by_id(this.props.firebase, this.props.firebase.auth.currentUser.uid)\n        promise.then((res) => {\n            this.setState({\n                data: res,\n                isLoading: false\n            })\n\n        })\n\n\n    }\n\n\n    render() {\n        if (this.state.isLoading) {\n            Toast.loading('Loading...', 0.5, () => {\n                console.log('Load complete !!!');\n            });\n        }\n\n\n        return (\n            <div>\n                <NavBar\n\n                    style={{\n                        backgroundColor: '#a6daba',\n                        borderBottomLeftRadius: '100%',\n                        borderBottomRightRadius: '100%',\n                        height: \"7vh\",\n                        position: 'fixed',\n                        width: \"100%\",\n                        top: 0,\n                        zIndex: 1\n                    }}\n                    mode=\"light\"\n\n                    rightContent={\n                        <div onClick={() => this.props.history.push(ROUTES.CREATEPOST)}\n                             style={{width: '40px', marginTop: \"-10px\",}}>\n                            <img src={add} style={{width: \"40px\"}} alt=\"add\"/>\n                        </div>\n\n                    }\n                    leftContent={\n                        <div onClick={() => this.props.history.goBack()} style={{\n                            width: '40px',\n                            marginTop: \"-20px\",\n                            marginLeft: '5px',\n                            color: 'White',\n                            fontSize: '40px',\n                            fontWeight: 'bold'\n                        }}> &lt;\n                        </div>\n                    }\n\n                ><h1 style={{color: \"white\",}}>My Posts</h1>\n                </NavBar>\n\n                {this.state.isImgClick && <ImageContainer currentImg={this.state.currentImg} picClose={this.picClose}/>}\n\n                <div>\n                    {\n                        this.state.data.map((obj, index) => {\n                            return (\n                                <div key={index} style={{padding: '0 15px', marginBottom: '10px', background: 'white'}}>\n                                    {index == 0 ? <div style={{height: '11vh'}}></div> :\n                                        <div/> /*show the 1st post completely*/}\n                                    <div\n                                        style={{\n                                            lineHeight: '40px',\n                                            color: '#888',\n                                            fontSize: 15,\n                                            borderBottom: '1px solid #F6F6F6',\n                                            background: '#ededed',\n\n\n                                        }}\n                                    >\n                                        {obj.place?<img style={{width:\"5vw\"}} src=\"https://image.flaticon.com/icons/png/128/149/149060.png\" alt=\"\"/>:\"\"}<a\n                                        href={\"http://maps.google.com/?q=\"+obj.place} target={\"_blank\"}>{obj.place}</a>\n\n                                    </div>\n\n                                    <div>\n                                        <Flex style={{padding: '15px 0'}}>\n                                            <img style={{height: '64px', marginRight: '15px'}} src={obj.userAvatar}\n                                                 alt=\"\"/>\n                                            <div style={{lineHeight: 1}}>\n\n                                                <div><span style={{\n                                                    fontSize: '20px',\n                                                    color: '#4e77a1',\n                                                    fontWeight: 'bold'\n                                                }}>{obj.username}</span></div>\n                                                <div style={{\n                                                    color: '#5396a5',\n                                                    fontSize: '18px',\n                                                    marginBottom: '8px',\n                                                    marginTop: '5px'\n                                                }}>{(new Date(obj.time)).toLocaleString()}</div>\n                                            </div>\n                                        </Flex>\n                                        <Flex>\n                                            <div style={{marginBottom: '8px', fontWeight: 'bold'}}>{obj.content}</div>\n                                        </Flex>\n                                        <div>\n                                            <ImagePicker\n                                                files={obj.pictures_url.map((item) => {\n                                                    return {url: item}\n                                                })}\n\n                                                onChange={this.onChange}\n                                                onImageClick={(index, fs) => {\n                                                    this.clickImg(fs[index]);\n                                                }}\n                                                selectable={false}\n                                                disableDelete={true}\n                                                length={3}\n\n\n                                            />\n\n                                        </div>\n                                    </div>\n\n                                    <Flex>\n                                        <Flex.Item><Button size='small' activeStyle={{background: '#7fc4a7'}} style={{\n                                            background: '#a6daba',\n                                            color: \"#ecfcee\",\n                                            fontWeight: 'bold'\n                                        }}\n                                                           onClick={() => this.onClickComment(obj.postId)}>Comment({obj.comments.length})</Button></Flex.Item>\n                                    </Flex>\n                                </div>\n                            )\n                        })\n                    }\n\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default withAuthentication(MyPosts);\n\n","/* eslint no-dupe-keys: 0 */\nimport { Button, Flex, ImagePicker, ListView, NavBar, Toast } from 'antd-mobile';\nimport React from 'react'\n\n\nimport * as ROUTES from \"../../../../constants/routes\";\n\nimport add from '../../../icons/add.png'\nimport ImageContainer from \"../../../ImageContainer\";\nimport { get_all_liked_posts } from \"../../../Firebase/getPosts\";\nimport withAuthentication from \"../../../Session/withAuthentication\";\nimport { likes } from \"../../../Firebase/upload\";\n\n\n\nclass FavPosts extends React.Component {\n    constructor(props) {\n        super(props);\n        const getSectionData = (dataBlob, sectionID) => dataBlob[sectionID];\n        const getRowData = (dataBlob, sectionID, rowID) => dataBlob[rowID];\n\n        const dataSource = new ListView.DataSource({\n            getRowData,\n            getSectionHeaderData: getSectionData,\n            rowHasChanged: (row1, row2) => row1 !== row2,\n            sectionHeaderHasChanged: (s1, s2) => s1 !== s2,\n        });\n\n        this.state = {\n            dataSource,\n            isLoading: true,\n            height: document.documentElement.clientHeight ,\n            currentImg:'',\n            isImgClick:false,\n            data:[]\n        };\n    }\n\n\n\n\n    onClickComment =(id)=>{\n\n        this.props.history.push(`/home/comments/${id}`)\n    }\n\n    clickImg = (file)=>{\n\n        this.setState({\n            isImgClick:true,\n            currentImg:file.url\n        })\n    }\n    picClose=()=>{\n        console.log(\"picCLose\")\n        this.setState({\n            isImgClick:false\n        })\n    }\n\n    likes = (postId)=>{\n\n        likes(this.props.firebase,this.props.firebase.auth.currentUser.uid,postId).then((result)=>{\n            console.log(result,postId);\n            this.renderItems()\n\n        }).catch(err=>{\n            console.log(err.toString())\n        });\n\n    }\n\n    componentDidMount() {\n      this.renderItems();\n\n    }\n\n    renderItems = ()=>{\n        this.setState({\n            isLoading:true\n        })\n\n\n    let list =  get_all_liked_posts(this.props.firebase,this.props.firebase.auth.currentUser.uid);\n        list.then((e)=>{\n            this.setState({\n                data:e\n            })\n        })\n    }\n\n\n\n\n    render() {\n        if(this.state.isLoading){\n            Toast.loading('Loading...', 0.5, () => {\n                console.log('Load complete !!!');\n            });\n        }\n        const separator = (sectionID, rowID) => (\n            <div\n                key={`${sectionID}-${rowID}`}\n                style={{\n                    backgroundColor: '#F5F5F9',\n                    height: 8,\n                    borderTop: '1px solid #ECECED',\n                    borderBottom: '1px solid #ECECED',\n                }}\n            />\n        );\n\n\n        return (\n            <div >\n                <NavBar\n                    style={{backgroundColor: '#a6daba', borderBottomLeftRadius:'100%', borderBottomRightRadius:'100%',  height:\"7vh\",position:'fixed',width:\"100%\", top:0,zIndex:1}}\n                    mode=\"light\"\n\n                    rightContent={\n                        <div onClick={()=>this.props.history.push(ROUTES.CREATEPOST)} style={{width: '40px',marginTop:\"-10px\",}}>\n                            <img src={add} style={{width:\"40px\"}} alt=\"add\"/>\n                        </div>\n\n                    }\n\n                    leftContent={\n                        <div onClick={()=>  this.props.history.goBack()}  style={{width: '40px',marginTop:\"-20px\", marginLeft:'5px', color:'White', fontSize:'40px',fontWeight: 'bold'}}> &lt;\n                        </div>\n                    }\n\n                ><h1 style={{color:\"white\",}}>Favorite</h1>\n                </NavBar>\n                {this.state.isImgClick&&<ImageContainer currentImg={this.state.currentImg} picClose={this.picClose}/>}\n                <div >\n                    {\n                        this.state.data.map((obj,index)=>{\n                            return(\n                                <div key={index} style={{ padding: '0 15px', marginBottom:'10px', background:'white' }}>\n                                    {index==0?  <div style={{height:'11vh'}}></div>:<div/> /*show the 1st post completely*/}\n                                    <div\n                                        style={{\n                                            lineHeight: '40px',\n                                            color: '#888',\n                                            fontSize: 15,\n                                            borderBottom: '1px solid #F6F6F6',\n                                            background:'#ededed',\n\n\n                                        }}\n                                    >\n                                        {obj.place?<img style={{width:\"5vw\"}} src=\"https://image.flaticon.com/icons/png/128/149/149060.png\" alt=\"\"/>:\"\"}<a\n                                        href={\"http://maps.google.com/?q=\"+obj.place} target={\"_blank\"}>{obj.place}</a>\n\n                                    </div>\n\n                                    <div>\n                                        <Flex style={{  padding: '15px 0' }}>\n                                            <img style={{ height: '64px', marginRight: '15px' }} src={obj.userAvatar} alt=\"\" />\n                                            <div style={{ lineHeight: 1 }}>\n\n                                                <div><span style={{  fontSize: '20px',color: '#4e77a1',fontWeight: 'bold' }}>{obj.username}</span></div>\n                                                <div style={{ color: '#5396a5',fontSize: '18px',marginBottom: '8px',marginTop: '5px'  }}>{(new Date(obj.time)).toLocaleString()}</div>\n                                            </div>\n                                        </Flex>\n                                        <Flex>\n                                            <div style={{ marginBottom: '8px', fontWeight: 'bold' }}>{obj.content}</div>\n                                        </Flex>\n                                        <div>\n                                            <ImagePicker\n                                                files={obj.pictures_url.map((item)=>{\n                                                    return {url:item}\n                                                })}\n\n                                                onChange={this.onChange}\n                                                onImageClick={(index, fs) => {\n                                                    this.clickImg(fs[index]);\n                                                }}\n                                                selectable={false}\n                                                disableDelete={true}\n                                                length={3}\n\n\n                                            />\n\n                                        </div>\n                                    </div>\n\n                                    <Flex>\n                                        <Flex.Item><Button size='small' activeStyle={{background:'#7fc4a7'}} style={{background:'#a6daba' ,color:\"#ecfcee\",fontWeight: 'bold'}} onClick={()=> this.onClickComment(obj.postId)}>Comment({obj.comments.length})</Button></Flex.Item>\n                                        <Flex.Item><Button size='small' activeStyle={{background:'#7fc4a7'}} style={{background:'#a6daba',color:\"#ecfcee\",fontWeight: 'bold'}} onClick={()=>this.likes(obj.postId)}>Likes {obj.likes!==0?'('+obj.likes.length+')':\"\"}</Button></Flex.Item>\n                                    </Flex>\n                                </div>\n                            )\n                        })\n                    }\n\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default withAuthentication(FavPosts);\n\n","import React, { Component } from 'react';\nimport { Button, Icon, InputItem, List, NavBar } from \"antd-mobile\";\nimport { updateUserName } from '../../../Firebase/upload';\nimport withAuthentication from '../../../Session/withAuthentication'\nimport * as ROUTES from \"../../../../constants/routes\";\n\nclass EditName extends Component {\n\n    onClick = ()=>{\n        updateUserName(this.props.firebase,this.props.firebase.auth.currentUser.uid,this.nameRef.current.state.value).then((data)=>{\n            console.log(\"name update\"+ data)\n            this.props.history.replace(ROUTES.ACCOUNT);\n        });\n\n\n\n\n    }\n    nameRef = React.createRef();\n    render() {\n        return (\n            <div>\n            <NavBar\n                mode=\"light\"\n                icon={<Icon type=\"left\" />}\n                onLeftClick={() => this.props.history.goBack()}\n\n\n\n            >Update Name</NavBar>\n                <List style={{margin:'20px 0'}}>\n                    <InputItem\n                        ref={this.nameRef}\n\n                    >Name</InputItem>\n\n                </List>\n                <Button type={\"primary\"} style={{marginTop:'20px'}} onClick={this.onClick}>Done</Button>\n            </div>\n        );\n    }\n}\n\nexport default withAuthentication(EditName);","import { Flex, ListView, NavBar } from 'antd-mobile';\nimport React from \"react\";\n\nimport add from \"../icons/add.png\";\nimport { get_post } from \"../Firebase/getPosts\";\nimport withAuthentication from \"../Session/withAuthentication\";\n\nconst data = [\n    {\n\n        title: 'Meet hotel',\n        des: '',\n        time: '02/29/2010',\n        id: 1,\n    },\n    {\n\n        title: 'McDonald\\'s invites you',\n        des: '',\n        time: '02/29/2010',\n        id: 2,\n    },\n    {\n\n        title: 'Eat the week',\n        des: '',\n        time: '02/29/2010',\n        id: 3,\n    },\n];\nconst NUM_SECTIONS = 5;\nconst NUM_ROWS_PER_SECTION = 5;\nlet pageIndex = 0;\nconst NUM_ROWS = 20;\nconst dataBlobs = {};\nlet sectionIDs = [];\nlet rowIDs = [];\n\nfunction genData(pIndex = 0) {\n    const dataBlob = {};\n    for (let i = 0; i < NUM_ROWS; i++) {\n        const ii = (pIndex * NUM_ROWS) + i;\n        dataBlob[`${ii}`] = `row - ${ii}`;\n    }\n    return dataBlob;\n}\n\n class Comments extends React.Component {\n    constructor(props) {\n        super(props);\n\n        const getSectionData = (dataBlob, sectionID) => dataBlob[sectionID];\n        const getRowData = (dataBlob, sectionID, rowID) => dataBlob[rowID];\n\n        const dataSource = new ListView.DataSource({\n            getRowData,\n            getSectionHeaderData: getSectionData,\n            rowHasChanged: (row1, row2) => row1 !== row2,\n            sectionHeaderHasChanged: (s1, s2) => s1 !== s2,\n        });\n\n        this.state = {\n            dataSource,\n            isLoading: true,\n            height: document.documentElement.clientHeight,\n            data:[]\n        };\n    }\n\n    componentDidMount() {\n\n        get_post(this.props.firebase, this.props.match.params.id).then((data)=>{\n            this.setState({\n                data:data.comments\n            })\n          //  console.log(data.comments)\n        });\n    }\n\n    onEndReached = (event) => {\n        // load new data\n        // hasMore: from backend data, indicates whether it is the last page, here is false\n        if (this.state.isLoading && !this.state.hasMore) {\n            return;\n        }\n        console.log('reach end', event);\n        this.setState({isLoading: true});\n        setTimeout(() => {\n            this.rData = {...this.rData, ...genData(++pageIndex)};\n            this.setState({\n                dataSource: this.state.dataSource.cloneWithRows(this.rData),\n                isLoading: false,\n            });\n        }, 1000);\n    }\n\n\n    onClickAdd = () => {\n        //console.log(this.props.match.params.id)\n        this.props.history.push(`/home/addcomment/${this.props.match.params.id}`);\n    }\n\n    render() {\n        const separator = (sectionID, rowID) => (\n            <div\n                key={`${sectionID}-${rowID}`}\n                style={{\n                    backgroundColor: '#F5F5F9',\n                    height: 8,\n                    borderTop: '1px solid #ECECED',\n                    borderBottom: '1px solid #ECECED',\n                }}\n            />\n        );\n        let index = data.length - 1;\n        const row = (rowData, sectionID, rowID) => {\n            if (index < 0) {\n                index = data.length - 1;\n            }\n            const obj = data[index--];\n            return (\n                <div key={rowID} style={{padding: '0 15px'}}>\n                    {rowID==0?  <div style={{height:'70px' ,background:'white'}}></div>:<div/> /*show the 1st post completely*/}\n\n\n                    <div>\n                        <Flex style={{padding: '15px 0'}}>\n                            <img style={{height: '64px', marginRight: '15px'}} src={obj.img} alt=\"\"/>\n                            <div style={{lineHeight: 1}}>\n\n                                <div><span\n                                    style={{fontSize: '20px', color: '#4e77a1', fontWeight: 'bold'}}>{obj.title}</span>\n                                </div>\n                                <div style={{\n                                    color: '#5396a5',\n                                    fontSize: '18px',\n                                    marginBottom: '8px',\n                                    marginTop: '5px'\n                                }}>{obj.time}</div>\n                            </div>\n                        </Flex>\n                        <Flex>\n                            <div style={{marginBottom: '8px', fontWeight: 'bold'}}>{obj.des}</div>\n                        </Flex>\n                    </div>\n                    {/*<Flex>*/}\n\n                    {/*    <Flex.Item><Button>Like</Button></Flex.Item>*/}\n                    {/*</Flex>*/}\n                </div>\n            );\n        };\n        return (\n            <div>\n                <NavBar\n                    style={{backgroundColor: '#5396a5', borderBottomLeftRadius:'100%', borderBottomRightRadius:'100%',  height:\"7vh\",position:'fixed',width:\"100%\", top:0,zIndex:1}}\n                    mode=\"light\"\n                    leftContent={\n                        <div onClick={()=>  this.props.history.goBack()}  style={{width: '40px',marginTop:\"-20px\", marginLeft:'5px', color:'White', fontSize:'40px',fontWeight: 'bold'}}> &lt;\n                    </div>\n                        }\n\n\n                    rightContent={\n                        <div onClick={this.onClickAdd}  style={{width: '40px',marginTop:\"-10px\",}}><img src={add} style={{width:\"40px\"}} alt=\"add\"/>\n                        </div>\n\n                    }\n                ><h1 style={{color:\"white\",}}>comments</h1></NavBar>\n                <div>\n                    {\n                        this.state.data.map((obj,index)=>{\n                            return(\n                                <div key={index} style={{padding: '0 15px', marginBottom:'5px', background:'white'}}>\n                                    {index==0?  <div style={{height:'70px' ,background:'white'}}></div>:<div/> /*show the 1st post completely*/}\n\n\n                                    <div>\n                                        <Flex style={{padding: '15px 0'}}>\n                                            <img style={{height: '64px', marginRight: '15px'}} src={obj.comment_user_avatar} alt=\"\"/>\n                                            <div style={{lineHeight: 1}}>\n\n                                                <div><span\n                                                    style={{fontSize: '20px', color: '#4e77a1', fontWeight: 'bold'}}>{obj.comment_user_name}</span>\n                                                </div>\n                                                <div style={{\n                                                    color: '#5396a5',\n                                                    fontSize: '18px',\n                                                    marginBottom: '8px',\n                                                    marginTop: '5px'\n                                                }}>{obj.time}</div>\n                                            </div>\n                                        </Flex>\n                                        <Flex>\n                                            <div style={{marginBottom: '8px', fontWeight: 'bold'}}>{obj.content}</div>\n                                        </Flex>\n                                    </div>\n                                    {/*<Flex>*/}\n\n                                    {/*    <Flex.Item><Button>Like</Button></Flex.Item>*/}\n                                    {/*</Flex>*/}\n                                </div>\n                            )\n                        })\n                    }\n\n                </div>\n            </div>\n\n        );\n    }\n}\nexport default withAuthentication(Comments);\n","import React, { Component } from 'react';\n\nimport { Icon, List, NavBar, TextareaItem } from 'antd-mobile'\nimport { comments } from \"../../Firebase/upload\";\nimport withAuthentication from \"../../Session/withAuthentication\";\n\nclass AddComment extends Component {\n    state = {\n        content:'',\n        postId:this.props.match.params.id\n\n    }\n    contentRef =  React.createRef();\n    add = ()=>{\n        let {addPost} = this.props\n        let content = this.contentRef.current.value;\n        const postObj = {id:4,userName:'Jack',time:'10:31 10/10/2019',content: content, pics:[], likes:0}\n        addPost(postObj)\n        this.setState({\n            content:'',\n            pics:[],\n            multiple:true\n        })\n\n    }\n    onChange = event => {\n        this.setState({ content: event });\n    };\n    onConfirm = ()=>{\n\n        comments(this.props.firebase, this.props.firebase.auth.currentUser.uid,this.props.firebase.auth.currentUser.displayName,this.props.firebase.auth.currentUser.photoURL,this.state.content,this.state.postId,()=>{\n            this.props.history.goBack();\n        });\n\n\n    }\n\n\n    render() {\n\n\n        return (\n            <div>\n                <NavBar\n                    mode=\"light\"\n                    icon={<Icon type=\"cross-circle\" />}\n                    onLeftClick={() => {this.props.history.goBack()}}\n                    rightContent={\n                        <div onClick={this.onConfirm}><Icon key=\"0\" type=\"check-circle-o\"  />\n                        </div>\n                    }\n                >Text</NavBar>\n                <List>\n                    <TextareaItem\n\n                        placeholder={\"Comment\"}\n                        autoHeight\n                        labelNumber={5}\n                        onChange={this.onChange}\n                        rows={5}\n                        count={300}\n                    />\n                </List>\n\n\n            </div>\n\n        );\n    }\n}\nexport default withAuthentication(AddComment);","import React from 'react';\nimport { withAuthorization } from '../Session';\nimport * as ROUTES from \"../../constants/routes\";\nimport CreatePost from '../CreatePost'\nimport PostPage from './PostPage'\nimport { TabBar } from 'antd-mobile';\nimport './index.css'\nimport AccountPage from \"./Account\";\nimport { Route } from 'react-router-dom'\nimport EditAvatar from \"./Account/EditAvatar\";\nimport About from './Account/About'\nimport MyPosts from './Account/MyPosts';\nimport FavPosts from \"./Account/FavPosts\";\nimport EditName from \"./Account/EditName\";\nimport { compose } from \"recompose\";\nimport Comments from \"../Comments\";\nimport AddComment from \"../Comments/AddComment\";\n\nclass HomePage extends React.Component {\n\n    state = {\n        posts: [],\n        isAddClicked: false\n    }\n\n\n\n    render() {\n\n        return (\n\n            <div style={{ position: 'fixed', height: '100%', width: '100%', top: 0 }}>\n                <Route path={ROUTES.CREATEPOST} component={CreatePost} />\n                <Route path={ROUTES.COMMENTS} component={Comments} />\n                <Route path={ROUTES.ADDCOMMENT} component={AddComment} />\n\n\n                <TabBar\n                    unselectedTintColor=\"#a6daba\"\n                    tintColor=\"#5396a5\"\n                    barTintColor=\"#white\"\n                    tabBarPosition=\"bottom\"\n                    hidden={this.state.hidden}\n                    prerenderingSiblingsNumber={0}\n                >\n                    <TabBar.Item\n                        title=\"Post\"\n                        key=\"Post\"\n                        icon={<div style={{\n                            width: '22px',\n                            height: '22px',\n                            background: `url(https://image.flaticon.com/icons/png/128/148/148845.png) center center /  21px 21px no-repeat` }}\n                        />\n                        }\n                        selectedIcon={<div style={{\n                            width: '22px',\n                            height: '22px',\n                            background: 'url(https://image.flaticon.com/icons/png/128/148/148845.png) center center /  21px 21px no-repeat' }}\n                        />\n                        }\n                        selected={this.state.selectedTab === 'postpage'}\n\n                        onPress={() => {\n                            this.setState({\n                                selectedTab: 'postpage',\n                            });\n                            this.props.history.push(ROUTES.POSTPAGE)\n                        }}\n                        data-seed=\"logId\"\n                    >\n\n                      <Route path={ROUTES.POSTPAGE} component={PostPage}/>\n                    </TabBar.Item>\n\n                    {/*<TabBar.Item*/}\n                    {/*    icon={*/}\n                    {/*        <div style={{*/}\n                    {/*            width: '22px',*/}\n                    {/*            height: '22px',*/}\n                    {/*            background: 'url(https://image.flaticon.com/icons/png/128/148/148800.png) center center /  21px 21px no-repeat' }}*/}\n                    {/*        />*/}\n                    {/*    }*/}\n                    {/*    selectedIcon={*/}\n                    {/*        <div style={{*/}\n                    {/*            width: '22px',*/}\n                    {/*            height: '22px',*/}\n                    {/*            background: 'url(https://image.flaticon.com/icons/png/128/148/148800.png) center center /  21px 21px no-repeat' }}*/}\n                    {/*        />*/}\n                    {/*    }*/}\n                    {/*    title=\"Following\"*/}\n                    {/*    key=\"Following\"*/}\n                    {/*    selected={this.state.selectedTab === 'following'}*/}\n                    {/*    onPress={() => {*/}\n                    {/*        this.setState({*/}\n                    {/*            selectedTab: 'following',*/}\n                    {/*        });*/}\n                    {/*        this.props.history.push(ROUTES.FOLLOWING)*/}\n                    {/*    }}*/}\n                    {/*>*/}\n                    {/*    <Route path={ROUTES.FOLLOWING} component={Following}/>*/}\n                    {/*</TabBar.Item>*/}\n                     <TabBar.Item\n                        icon={{ uri: 'https://image.flaticon.com/icons/png/128/124/124576.png' }}\n                        selectedIcon={{ uri: 'https://image.flaticon.com/icons/png/128/124/124576.png' }}\n                        title=\"My\"\n                        key=\"my\"\n                        selected={this.state.selectedTab === 'my'}\n                        onPress={() => {\n                            this.setState({\n                                selectedTab: 'my',\n                            });\n                            this.props.history.push(ROUTES.ACCOUNT)\n\n                        }}\n                    >\n                       <Route path={ROUTES.ACCOUNT} component={AccountPage}/>\n                         <Route path={ROUTES.EDITAVATAR} component={EditAvatar}/>\n                         <Route path={ROUTES.EDITNAME} component={EditName}/>\n                         <Route path={ROUTES.MYPOSTS} component={MyPosts}/>\n                         <Route path={ROUTES.FAVPOSTS} component={FavPosts}/>\n                         <Route path={ROUTES.ABOUT} component={About}/>\n                     </TabBar.Item>\n\n                </TabBar>\n            </div>\n        );\n    }\n\n}\n\nconst condition = authUser => !!authUser;\nHomePage = compose(\n\n    withAuthorization(condition),\n\n)(HomePage);\nexport default HomePage;","import React, { Component } from 'react';\nimport { withFirebase } from '../Firebase';\n\nimport { compose } from 'recompose';\nimport { withAuthorization } from '../Session';\nimport * as ROLES from '../../constants/roles';\n\nclass AdminPage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            loading: false,\n            users: [],\n        };\n    }\n    componentDidMount() {\n        this.setState({ loading: true });\n        this.unsubscribe = this.props.firebase\n            .users()\n            .onSnapshot(snapshot => {\n                let users = [];\n                snapshot.forEach(doc =>\n                    users.push({ ...doc.data(), uid: doc.id }),\n                );\n                this.setState({\n                    users,\n                    loading: false,\n                });\n            });\n    }\n\n    componentWillUnmount() {\n        this.unsubscribe();\n    }\n    render() {\n        const { users, loading } = this.state;\n        return (\n            <div>\n                <h1>Admin</h1>\n                <p>\n                    The Admin Page is accessible by every signed in admin user.\n                </p>\n\n                {loading && <div>Loading ...</div>}\n                <UserList users={users} />\n            </div>\n        );\n    }\n}\nconst UserList = ({ users }) => (\n    <ul>\n        {users.map(user => (\n            <li key={user.uid}>\n        <span>\n          <strong>ID:</strong> {user.uid}\n        </span>\n                <span>\n          <strong>E-Mail:</strong> {user.email}\n        </span>\n                <span>\n          <strong>Username:</strong> {user.username}\n        </span>\n            </li>\n        ))}\n    </ul>\n);\nconst condition = authUser =>\n    authUser && !!authUser.roles[ROLES.ADMIN];\nexport default compose(\n    withAuthorization(condition),\n    withFirebase,\n)(AdminPage);","import React from 'react';\n\nimport {\n    HashRouter as Router,\n    Route,\n    Redirect,\n    Switch\n} from 'react-router-dom';\n\n\nimport LandingPage from '../Landing';\nimport SignUpPage from '../SignUp';\nimport SignInPage from '../SignIn';\nimport PasswordForgetPage from '../PasswordForget';\nimport HomePage from '../Home';\n\nimport AdminPage from '../Admin';\nimport * as ROUTES from '../../constants/routes';\n\nimport { withAuthentication } from '../Session';\n\nconst App = () => (\n    <Router>\n        <div>\n\n            <Switch>\n\n            {/*<Route path={ROUTES.SIGN_UP} component={SignUpPage} />*/}\n            <Route path={ROUTES.SIGN_IN} component={SignInPage} />\n            <Route path={ROUTES.SIGN_UP} component={SignUpPage}/>\n            <Route\n                path={ROUTES.PASSWORD_FORGET}\n                component={PasswordForgetPage}\n            />\n            <Route path={ROUTES.HOME} component={HomePage} />\n            {/*<Route path={ROUTES.ACCOUNT} component={AccountPage} />*/}\n            <Route path={ROUTES.ADMIN} component={AdminPage} />\n\n            {/*<Route path={ROUTES.EDITAVATAR} component={EditAvatar}/>*/}\n            <Redirect to={ROUTES.POSTPAGE}/>\n            </Switch>\n        </div>\n    </Router>\n);\nexport default withAuthentication(App);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport App from './components/App';\nimport Firebase, { FirebaseContext } from './components/Firebase';\nReactDOM.render(\n    <FirebaseContext.Provider value={new Firebase()}>\n        <App />\n    </FirebaseContext.Provider>,\n    document.getElementById('root'),\n);\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAC4jAAAuIwF4pT92AAAKUWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIiB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTktMTEtMTFUMTI6NTE6MjktMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTktMTEtMTFUMTM6MTM6MzgtMDg6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE5LTExLTExVDEzOjEzOjM4LTA4OjAwIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjcxNDI0YjdhLTU1ZTMtNDJlMC04NTc3LTZlNmE4NzhhNWI4YSIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmE2NDUwOTAwLThjOTktM2M0Mi1hMGY3LTFhNWIzN2IyOGNhNSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjQ5YTY5NjI1LWIwNDEtNDgxZS1hMmM2LTA5NDYxYzQ4ZjA5MSIgdGlmZjpPcmllbnRhdGlvbj0iMSIgdGlmZjpYUmVzb2x1dGlvbj0iMzAwMDAwMC8xMDAwMCIgdGlmZjpZUmVzb2x1dGlvbj0iMzAwMDAwMC8xMDAwMCIgdGlmZjpSZXNvbHV0aW9uVW5pdD0iMiIgZXhpZjpDb2xvclNwYWNlPSIxIiBleGlmOlBpeGVsWERpbWVuc2lvbj0iMjAwIiBleGlmOlBpeGVsWURpbWVuc2lvbj0iMjAwIj4gPHBob3Rvc2hvcDpUZXh0TGF5ZXJzPiA8cmRmOkJhZz4gPHJkZjpsaSBwaG90b3Nob3A6TGF5ZXJOYW1lPSIrIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSIrIi8+IDwvcmRmOkJhZz4gPC9waG90b3Nob3A6VGV4dExheWVycz4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo0OWE2OTYyNS1iMDQxLTQ4MWUtYTJjNi0wOTQ2MWM0OGYwOTEiIHN0RXZ0OndoZW49IjIwMTktMTEtMTFUMTI6NTE6MjktMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChNYWNpbnRvc2gpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpmOGRiM2UzMS1jYWNjLTRiYjAtYWE3OS0wNGJjMjJmMGEyZGIiIHN0RXZ0OndoZW49IjIwMTktMTEtMTFUMTM6MTM6MzgtMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChNYWNpbnRvc2gpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImRlcml2ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImNvbnZlcnRlZCBmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo3MTQyNGI3YS01NWUzLTQyZTAtODU3Ny02ZTZhODc4YTViOGEiIHN0RXZ0OndoZW49IjIwMTktMTEtMTFUMTM6MTM6MzgtMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChNYWNpbnRvc2gpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpmOGRiM2UzMS1jYWNjLTRiYjAtYWE3OS0wNGJjMjJmMGEyZGIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NDlhNjk2MjUtYjA0MS00ODFlLWEyYzYtMDk0NjFjNDhmMDkxIiBzdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NDlhNjk2MjUtYjA0MS00ODFlLWEyYzYtMDk0NjFjNDhmMDkxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+wQQPHQAADB9JREFUeJzt3X+slmUdx/H3OcBB8QfIDylLPSCg6ULYEKOMEEkgNafTmqZiKxu69U9Zq9xcm61s6lp/aKZOE0s2c4ktS5oKlmaYpsRKDSRcrYYCgiImAqc/vs+Zy+jmPJzn+n6v674/r+1McY/n+33u6/rw3M/zXPd9dfX19SEie9cd3YBIzhQQkQoKiEgFBUSkggIiUkEBEamggIhUUEBEKiggIhUUEJEKCohIBQVEpIICIlJBARGpoICIVFBARCooICIVFBCRCgqISAUFRKSCAiJSQQERqTA0dYHNu19NXUIabsyQw5L97uQBEUYAk4He1s8EYDwwFhgHjAYObj32YGAY8DawvfXftgNbgFeATcBG4G/AhtbPWmBH4ufQWApIZx0EnAzMAqYCJwKTgCFt/p5hQP9fi4cBR1Y8djewDlgN/Al4AlgFvNFmTdmLrtR3Vqz5KVYPcArwCWA2MJ08/tLZBTwD/BZ4AHgM2BnaUUIpT7EUkPaNBM4GzgVO453To5xtBx4GfgbcD2yLbaezFJB4PVgoLsBeLYbHtjMobwG/Au4Gft76c9EUkDiTgc8DlwKHx7aSxMvAncCt2Jv9Iikg/mYDX8VeLbqCe/HQB/wSuA54NLiXtqUMiL4ofEcXdhq1CpskZ9CMcIA9zzOAldjzP5vmPPdKCog5HZsYy4CZsa2Em4kdh1XA/NhW4jU9INOBFcBy4KTgXnJzEvAgdnymB/cSpqkBGQvcCPwBmBPbSvbmAE8BN2HHrVGaGJBFwAvAFbT/DXdTdQOXY8dtUXAvrpoUkKOwz/9/hK1/kvaNxo7fg8DRsa34aEpALgbWAAuiG6mJ+djx/Gx0I6nVPSCHAj8GlrT+XTrnEOB24B5s+U0t1Tkg04A/Ap8J7qPuzscWRk4L7iOJugbkImzZ9zHRjTTEBOx4XxLdSKfVLSDd2HKJu4ADgntpmgOwdV3XU6N5VZsnAhwI3AtcGd1Iw30ZG4cR0Y10Ql0CMhq73uGc6EYEsHF4iBp8nF6HgIzHlkPMim5E/sssbFzGRzcyGKUH5AhsBerU4D5k76Zi43NEcB/7reSAvB9bln5cdCNS6TjgN9h4FafUgIzDljtMim5EBuQYbLzGRTfSrhIDMhK7+u2E6EakLSdg41bUt+6lBaQHuzPHjOhGZL/MwMavJ7qRgSotIDcCc6ObkEGZi11bUoSSAvI17A4jUr7PYeOZvVLuajIfu0OgLnCqj93Amdib90Fp+l1NjgZ+gsJRN0OwSxGyvvAq94D0YOt6xkQ3IkmMwcY32zftuQfkW+gTq7qbgY1zlnJ+DzIHW4CYe4hl8PYA87C1W21r4nuQkdjNAXLtTzqrGxvv7L5EzHUCfofM37xJxx0FXBvdxLvleIr1EWzjF90btnn6gI8Cj7fzPzXpFGsYcAsKR1N1YeM/LLqRfrkF5IvA8dFNSKjjsXmQhZxOscZim7iMStaMlGIrtnnRpoE8uCmnWN9E4RAzCpsP4XJ5BZmI3Rg5hx1ik9j62pt86bsPDfr3nHPqJM6a94EOdJS9XdjViC/u64FNeAW5mhqHQ/bLUGxehMohIFPQ7UFl7y7E5keYHALyDfTqIXs3FJsfYaID8l5s73GR/+cCbJ6EiA7IFWS81Fmy0IPNkxCRATkQWBxYX8qxGJsv7iIDch4N3BRS9stYbB8Sd5EBuSywtpQn5IYdUQGZApwSVFvKdApwrHfRqIBcjFbsSnu6sHnjKiognw6qK2X7lHfBiIBMw1ZqirRrMs6bhUYE5LyAmlIfrp9mRQTkzICaUh+u88c7IEeg3aBkcD6I445V3gH5OPr0SganCzjdq5h3QOY715N6qm1AtBOtdILbPPIMyPuAXsd6Ul+9OG0K6hkQvXpIJ7nMJ8+AfMixltTfyR5FPAMyzbGW1N90jyKeAdG2zdJJLvPJKyCjgfc41ZJmGA+kuyFWi1dAJjnVkWZJvujVKyC9TnWkWXpTF/C6H1WvU522PbfuZa67Y1V0GwN234p13LdiXfI6h4wYxvevWpC8ziD1pi7g9Qqi3aIkheTzyisghzvVkWYZn7qAV0C0z7mkMDp1AQVESpZ8XnkFZJRTHWmWUakLeAXkUKc60izJ91X3CoiuIpQieQVkhFMdaZaDUhfwCkg2+15LrST/otsrIG871ZFm2ZW6gFdAdjjVkWZ5I3UBr4Ck3WtaJBGvgLzmVEeaZVvqAl4B2epUR5pla+oCXgHZ7FRHmiX5vFJApGRbUhfwCsjLTnWkWTamLuB1ReFLTnXaduzEcdx09cLkdba9/iZf/97KQf+es2ZPZOGc9Fv1FbI2KPm88grIBqc6bevu7uKA4ekPw7/f6kyNoUO6XfotxIbUBbxOsTY41ZFm2ZC6gFdA0t9lQJoo+bzyCsgWHN5QSaNspEafYgH82bGW1J/LfPIMyDOOtaT+XOaTZ0B+71hL6s/lbn8KiJTqCY8ingH5B/q4VzrjJWw+Jee9iadL6qX2fudVyDsgv3auJ/XkNo8iAqKrC2Uw+qhxQP4JrHGuKfWyBptHLrwDAvCLgJpSH67zJyIgPw2oKfVxr2exiIA8C6wNqCvlW4vzioyIgADcE1RXyuZ+9hEVkLvQp1nSnj5giXfRqIC8ADwWVFvK9Bg2b1xFBQTg1sDaUp7bIopGBuReYFNgfSnHJoI+/YwMyJvAzYH1pRw3Y/PFXWRAAG4Cdgb3IHnbic2TENEB+RewNLgHydtSbJ6EiA4IwLdx2AhFirQLmx9huvr60n4dsXn3qwN52J3AJUkbkRItARbt60FjhhyWrIFcAjIR+4xbtwyUfruA44AX9/XAlAHJ4RQLYD3ww+gmJCu3MIBwpJbLKwjAWGwx2qhkzUgptgKTGeD3ZE14BQE7GNdENyFZuIZMvkTO6RUEbD/1Z4HjkzQjJXgOmEYb34815RUEbD/1L6CVvk3VB1xGRl8e5xYQgMexN2jSPLdg45+N3E6x+o3ELs4/srPdSMb+DkxlP3aubdIpVr9t2BdEe6IbERd7sPHeGtzH/8g1IAArgBuimxAXN2DjnZ1cT7H69WDnpDM6041k6GngwwzijXkTT7H67QTOQ/us19VmbHyz+dTq3XIPCNidvC9C70fqZg82rhuC+6hUQkAAHgSuim5COuoqbFyzVkpAAK4Fbo9uQjriDmw8s1dSQAAuBx6JbkIG5RFgcXQTA1VaQHYC52KffEh5nsbGL9s35e9WWkDAvkRciLaVLs1fsHHbFt1IO0oMCMArwAJgXXQjMiAvAvOxcStKqQEB28TxY8Dz0Y1IpeeB2ThtutlpJQcEbKehOWjXqlytwcbHbUeoTis9IAAbsUHQDrp5eQI4FRufYtUhIABbgHnAfdGNCGDjMI8aLBGqS0AAdmDreq6PbqThbgDOx8ajeHUKCNj6nq8AF1KTASrIDuy4XwnsDu6lY+oWkH5LsSXU66MbaYj12PGu3X2W6xoQgNXAdGo4aJlZih3n1dGNpFDngAC8hr3sLwJeD+6lbl7HjuuF2HGupboHpN8S7IYAy6MbqYnl2PF031TTW1MCAnZhzgLgUuxjYWnfq9jxW0DmFzp1SpMC0u9O4FjgB+gqxYHag91cfAp2/BqjiQEBu+/rFdjNIFbGtpK9ldhxWkwm98v11NSA9HsGWw6xAHgquJfcPIUtTz8VO06N1PSA9FsOzATOAZ4M7iXak9hxmEkB14ynpoC8ow9YBpwMzAUeoDk30e7Dnu9c7PkvoznPvVLuN46LNgW72/glwOHBvaTwCvam+1bgr8G97Lcm7FGYu+HAJ7EvxRa2/lyqt7BTp7uB+1t/LpoCkpeRwNnYzQdOAw6ObWdAtgMPY8vQl1HYdeH7ooDkqwe7nHQhdvnvieSxU+8ubG3Uo9irxaMUdCeRdikg5TgImIW90T2x9XMMMCRhzd3YTRFWt35WYVfzvZGwZlYUkLKNwHZs7QUmtH7GA+OwnX3HtB4DdvrWjX1z3X8atAO7Mm8T9qZ6I7bMY33rn2tp+LUvCohIhaIDIlIyfVEoUkEBEamggIhUUEBEKiggIhUUEJEKCohIBQVEpIICIlJBARGpoICIVFBARCooICIVFBCRCgqISAUFRKSCAiJSQQERqaCAiFRQQEQqKCAiFf4DpcQ2rZrLV34AAAAASUVORK5CYII=\""],"sourceRoot":""}